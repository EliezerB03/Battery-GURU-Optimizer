window.showTab=function(e,t){if(t.classList.contains("oui-tab-link--active"))return;document.querySelectorAll(".tab-section").forEach(e=>{e.classList.remove("active")}),document.getElementById(e).classList.add("active"),window.initSliders(),document.querySelectorAll(".oui-tab-link").forEach(e=>{e.classList.remove("oui-tab-link--active")}),t.classList.add("oui-tab-link--active");let s=document.querySelector(".scroll-container");s&&(s.scrollTop=0),_(251)};const e=document.getElementById("batteryprotect_opt"),t=document.querySelectorAll("#general .options");function s(){let s=e.checked;t.forEach(e=>{e.classList.toggle("disabled",!s)})}const r=document.getElementById("frq_on"),o=document.getElementById("frq_toggle_master"),c=document.getElementById("frq_text"),n=document.querySelectorAll("#freq .options");function i(){let e=r.checked;c.textContent=e?"ON":"OFF",c.style.color=e?"var(--app-accent)":"",o.style.background=e?"var(--toggle-master-background)":"",o.style.transition=".25s",c.style.fontFamily="'SamsungSharpSans-Bold', sans-serif",c.style.fontWeight="normal",c.style.transform="translateY(2px)",n.forEach(t=>{t.classList.toggle("disabled",!e)})}const a=document.getElementById("volt_on"),l=document.getElementById("volt_toggle_master"),u=document.getElementById("volt_text"),d=document.querySelectorAll("#voltage .options");function p(){let e=a.checked;u.textContent=e?"ON":"OFF",u.style.color=e?"var(--app-accent)":"",l.style.background=e?"var(--toggle-master-background)":"",l.style.transition=".25s",u.style.fontFamily="'SamsungSharpSans-Bold', sans-serif",u.style.fontWeight="normal",u.style.transform="translateY(2px)",d.forEach(t=>{t.classList.toggle("disabled",!e)})}e.addEventListener("change",s),r.addEventListener("change",i),a.addEventListener("change",p),s(),i(),p();const m=document.querySelector(".scroll-container");function _(e=251){m&&(m.style.overflowY="hidden",setTimeout(()=>{m.style.overflowY="auto"},e))}function v(){let e=document.querySelector(".oui-tab").offsetHeight;document.documentElement.style.setProperty("--oui-tab-height",e+"px")}_(251),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".top-glow"),t=document.querySelector(".bottom-glow");if(!e||!t)return;e.style.transition||(e.style.transition="opacity 200ms ease"),t.style.transition||(t.style.transition="opacity 200ms ease"),e.style.opacity=e.style.opacity||"0",t.style.opacity=t.style.opacity||"0";let s=s=>{e.style.opacity=s?"1":"0",t.style.opacity=s?"1":"0"},r=null,o=()=>{r&&cancelAnimationFrame(r),r=requestAnimationFrame(()=>{let e=document.querySelector("section.active");if(!e||e.hasAttribute("data-glow")&&"false"===e.getAttribute("data-glow"))return void s(!1);let t=(e=>{if(!e)return null;let t=e;for(;t&&t!==document.body&&(t=t.parentElement);){if(t.classList&&t.classList.contains("scroll-container"))return t;let e=getComputedStyle(t);if(/(auto|scroll)/.test(e.overflowY))return t}let s=getComputedStyle(e);if(/(auto|scroll)/.test(s.overflowY))return e;let r=document.querySelector(".scroll-container");return r&&r.contains(e)?r:document.scrollingElement||document.documentElement})(e);s(!!(t&&t&&t.scrollHeight>t.clientHeight+1))})};o();let c=window.showTab;"function"==typeof c&&(window.showTab=function(e,t){c(e,t),setTimeout(o,40)});let n=new MutationObserver(o);document.querySelectorAll("section").forEach(e=>n.observe(e,{attributes:!0,attributeFilter:["class"]}));let i=new ResizeObserver(o);i.observe(document.documentElement),document.querySelectorAll(".scroll-container, section").forEach(e=>i.observe(e));let a=new MutationObserver(o);document.querySelectorAll(".scroll-container").forEach(e=>a.observe(e,{childList:!0,subtree:!0})),window.addEventListener("resize",o);let l=document.querySelector(".oui-tab"),u=document.documentElement;function d(){let e=l?l.getBoundingClientRect().height:60;u.style.setProperty("--nav-height",`${Math.round(e)}px`)}window.addEventListener("load",d),window.addEventListener("resize",d),l&&"ResizeObserver"in window&&new ResizeObserver(d).observe(l),window.initSliders()}),window.addEventListener("load",v),window.addEventListener("resize",v),new ResizeObserver(v).observe(document.querySelector(".oui-tab"));const y=document.querySelector(".oui-loading-mask"),f=document.querySelector(".oui-loading"),h=document.querySelector(".oui-loading-circle");document.body.style.pointerEvents="none",document.body.style.userSelect="none",document.body.style.overflow="hidden",document.documentElement.style.pointerEvents="none",document.documentElement.style.userSelect="none",setTimeout(()=>{y.classList.add("active"),h.classList.add("active"),f.classList.add("active"),document.body.classList.add("no-scroll")},5),setTimeout(()=>{y.classList.remove("active"),h.classList.remove("active"),f.classList.remove("active"),document.body.classList.remove("no-scroll")},3e3),y.addEventListener("transitionend",e=>{e.target!==y||y.classList.contains("active")||setTimeout(()=>{document.body.style.pointerEvents="",document.body.style.userSelect="",document.body.style.overflow="",document.documentElement.style.pointerEvents="",document.documentElement.style.userSelect=""},5)}),document.querySelectorAll(".oui-container-toggle, .oui-bubble-item, .oui-bubble-item2").forEach(e=>{let t=!1,s=!1,r=!1,o=!1,c=null,n=0,i=0,a=()=>{var t;if(r)return;null==(t=e.querySelector(".toggle-effect"))||t.remove();let s=document.createElement("span");if(s.className="toggle-effect animate-in",null!==e.querySelector("#batteryprotect_opt"))s.classList.add("rounded-top");else{let t=[...e.parentElement.querySelectorAll(".oui-container-toggle, .oui-bubble-item, .oui-bubble-item2")],r=e===t[0],o=e===t[t.length-1];1===t.length?s.classList.add("rounded-all"):r?s.classList.add("rounded-top"):o&&s.classList.add("rounded-bottom")}e.appendChild(s);let o=e.querySelector(".oui-inner");o&&o.classList.add("pressed-effect")},l=()=>{clearTimeout(c);let t=e.querySelector(".toggle-effect");if(!t)return;t.classList.remove("animate-in"),t.classList.add("animate-out");let s=e.querySelector(".oui-inner");s&&(s.classList.remove("pressed-effect"),s.classList.add("released-effect")),c=setTimeout(()=>{e.classList.remove("released-effect"),t.remove()},550)},u=c=>{if(!t)return;let i=Math.abs((c.touches?c.touches[0].clientY:c.clientY)-n);if(!o&&i>8){r=!0,o=!0,l(),s=!1;let t=e.querySelector(".oui-inner");t&&t.classList.remove("pressed-effect");return}},d=c=>{if(!t)return;t=!1,document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",d);let n=Date.now();s&&!r&&!o&&n-i>=100&&(i=n,e.click()),l(),s=!1,r=!1,o=!1};e.addEventListener("click",e=>{s||(e.preventDefault(),e.stopPropagation())},!0),e.addEventListener("touchstart",l=>{if(Date.now()-i<100)return void l.preventDefault();t=!0,s=!0,r=!1,o=!1,n=l.touches[0].clientY,clearTimeout(c);let p=e.querySelector(".oui-inner");p&&(p.classList.remove("released-effect"),p.classList.add("pressed-effect")),a(),document.addEventListener("touchmove",u),document.addEventListener("touchend",d)}),e.addEventListener("pointerdown",l=>{if(Date.now()-i<100)return void l.preventDefault();t=!0,s=!0,r=!1,o=!1,n=l.touches?l.touches[0].clientY:l.clientY,clearTimeout(c);let p=e.querySelector(".oui-inner");p&&(p.classList.remove("released-effect"),p.classList.add("pressed-effect")),a(),document.addEventListener("pointermove",u),document.addEventListener("pointerup",d),document.addEventListener("touchmove",u),document.addEventListener("touchend",d)})}),document.querySelectorAll(".oui-button").forEach(e=>{let t=!1,s=!1,r=!1,o=!1,c=null,n=0,i=0,a=()=>{clearTimeout(c);let t=e.querySelector(".button-effect");t&&(t.classList.remove("animate-in"),t.classList.add("animate-out"),e.classList.remove("pressed-effect"),e.classList.add("released-effect"),c=setTimeout(()=>{e.classList.remove("released-effect"),t.remove()},550))},l=c=>{if(!t)return;let i=Math.abs(c.clientY-n);if(!o&&i>8){r=!0,o=!0,a(),s=!1,e.classList.remove("pressed-effect");return}},u=c=>{if(!t)return;t=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",u);let n=Date.now();s&&!r&&!o&&n-i>=100&&(i=n,e.click()),a(),s=!1,r=!1,o=!1};e.addEventListener("click",e=>{s||(e.preventDefault(),e.stopPropagation())},!0),e.addEventListener("pointerdown",a=>{if(Date.now()-i<100)return void a.preventDefault();t=!0,s=!0,r=!1,o=!1,n=a.clientY,clearTimeout(c),e.classList.remove("released-effect"),e.classList.add("pressed-effect"),(()=>{var t;if(r)return;null==(t=e.querySelector(".button-effect"))||t.remove();let s=document.createElement("span");s.className="button-effect animate-in",1==[...e.parentElement.querySelectorAll(".oui-button")].length&&s.classList.add("rounded-all"),e.appendChild(s),e.classList.add("pressed-effect")})(),document.addEventListener("pointermove",l),document.addEventListener("pointerup",u)})}),document.querySelectorAll(".oui-tab-link").forEach(e=>{let t=!1,s=!1,r=!1,o=!1,c=null,n=0,i=e.closest(".oui-tab-inner"),a=0,l=()=>{var t;if(r)return;null==(t=e.querySelector(".tab-button-effect"))||t.remove();let s=document.createElement("span");s.className="tab-button-effect animate-in rounded-all",e.appendChild(s),i&&(i.classList.add("pressed-effect"),i.classList.remove("released-effect"))},u=()=>{clearTimeout(c);let t=e.querySelector(".tab-button-effect");t&&(t.classList.remove("animate-in"),t.classList.add("animate-out"),i&&(i.classList.remove("pressed-effect"),i.classList.add("released-effect")),c=setTimeout(()=>{i&&i.classList.remove("released-effect"),t.remove()},550))},d=e=>{if(!t)return;let c=Math.abs((e.touches?e.touches[0].clientX:e.clientX)-n);if(!o&&c>8){r=!0,o=!0,u(),s=!1,i&&i.classList.remove("pressed-effect");return}},p=c=>{if(!t)return;t=!1,document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",p),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",p);let n=Date.now();s&&!r&&!o&&n-a>=100&&(a=n,e.click()),u(),s=!1,r=!1,o=!1};e.addEventListener("click",e=>{s||(e.preventDefault(),e.stopPropagation())},!0),e.addEventListener("touchstart",e=>{if(Date.now()-a<100)return void e.preventDefault();t=!0,s=!0,r=!1,o=!1,n=e.touches[0].clientX,clearTimeout(c),i&&(i.classList.remove("released-effect"),i.classList.add("pressed-effect")),l(),document.addEventListener("touchmove",d),document.addEventListener("touchend",p)}),e.addEventListener("pointerdown",e=>{if(Date.now()-a<100)return void e.preventDefault();t=!0,s=!0,r=!1,o=!1,n=e.touches?e.touches[0].clientX:e.clientX,clearTimeout(c),i&&(i.classList.remove("released-effect"),i.classList.add("pressed-effect")),l(),document.addEventListener("pointermove",d),document.addEventListener("pointerup",p),document.addEventListener("touchmove",d),document.addEventListener("touchend",p)})}),document.querySelectorAll(".oui-dialog-action-button").forEach(e=>{let t=!1,s=!1,r=!1,o=!1,c=null,n=0,i=()=>{clearTimeout(c);let t=e.querySelector(".dialog-button-effect");t&&(t.classList.remove("animate-in"),t.classList.add("animate-out"),e.classList.remove("pressed-effect"),e.classList.add("released-effect"),c=setTimeout(()=>{e.classList.remove("released-effect"),t.remove()},550))},a=e=>{if(!t)return;let c=Math.abs(e.clientY-n);if(!o&&c>8){r=!0,o=!0,i(),s=!1;return}},l=c=>{t&&(t=!1,document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),!s||r||o||e.click(),i(),s=!1,r=!1,o=!1)};e.addEventListener("pointerdown",i=>{t=!0,s=!0,r=!1,o=!1,n=i.clientY,clearTimeout(c),(()=>{var t;if(r)return;null==(t=e.querySelector(".dialog-button-effect"))||t.remove();let s=document.createElement("span");s.className="dialog-button-effect animate-in rounded-all",e.appendChild(s),e.classList.add("pressed-effect"),e.classList.remove("released-effect")})(),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)}),e.addEventListener("click",e=>{s||(e.preventDefault(),e.stopPropagation())},!0)}),document.querySelectorAll(".oui-overlay-bubble-info").forEach(e=>{let t=null,s=!1,r=!1,o=!1,c=()=>{clearTimeout(t);let s=e.querySelector(".oui-icon-info-effect");s&&(s.classList.remove("animate-in"),s.classList.add("animate-out"),e.classList.remove("pressed-effect"),e.classList.add("released-effect"),t=setTimeout(()=>{e.classList.remove("released-effect"),s.remove()},550))},n=t=>{let s=e.getBoundingClientRect();return t.clientX>=s.left&&t.clientX<=s.right&&t.clientY>=s.top&&t.clientY<=s.bottom},i=()=>{if(o)return;o=!0;let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t),setTimeout(()=>{o=!1},50)};e.addEventListener("pointerdown",o=>{var c;s=!0,r=!1,clearTimeout(t),e.classList.remove("released-effect"),e.classList.add("pressed-effect"),null==(c=e.querySelector(".oui-icon-info-effect"))||c.remove();let n=document.createElement("span");n.className="oui-icon-info-effect animate-in rounded-all",e.appendChild(n),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l),document.addEventListener("pointercancel",u)});let a=o=>{s&&!r&&!n(o)&&(r=!0,clearTimeout(t),e.classList.contains("pressed-effect")&&c())},l=e=>{s&&(s=!1,clearTimeout(t),c(),!r&&n(e)&&i(),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),document.removeEventListener("pointercancel",u))},u=e=>{s=!1,clearTimeout(t),c(),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),document.removeEventListener("pointercancel",u)};e.addEventListener("click",e=>{s||i()})}),window.initSliders=function(){let e=["volt_big","volt_little","volt_gpu","volt_mif","volt_audio","volt_camera","volt_cp","volt_display","volt_fsys","volt_int","volt_intcamera","volt_iva","volt_score"],t=["batt_level"],s=new Map,r=new Map,o=new Map;function c(){e.forEach(e=>{let t=document.getElementById(e);if(!t)return;let s=t.nextElementSibling;if(!s)return;let r=parseInt(t.max)-parseInt(t.min),o=t.offsetWidth-15;s.innerHTML="";for(let e=0;e<=r;e++){let t=document.createElement("span"),c=7.5+e/r*o+2;t.style.left=`${c}px`,s.appendChild(t)}}),t.forEach(e=>{let t=document.getElementById(e);if(!t)return;let s=t.nextElementSibling;if(!s)return;let r=parseInt(t.max)-parseInt(t.min),o=t.offsetWidth-15;s.innerHTML="";for(let e=0;e<=r;e++){let t=document.createElement("span"),c=7.5+e/r*o+2;t.style.left=`${c}px`,s.appendChild(t)}})}function n(e){let t=document.getElementById(e);if(!t)return;let s=t.parentElement.querySelector(".slider-values");if(!s)return;let r=t.offsetWidth-15,o=s.querySelectorAll("span");if(3!==o.length)return;let c=[7.5,7.5+.5*r+1,7.5+r];o.forEach((e,t)=>{e.style.position="absolute",e.style.top="0",e.style.transform="translateX(-50%)",e.style.left=c[t]+"px"})}function i(e){let t=document.getElementById(e);if(!t)return;let s=t.parentElement.querySelector(".batt-slider-values");if(!s)return;let r=t.offsetWidth-15,o=s.querySelectorAll("span");if(3!==o.length)return;let c=[7.5,7.5+.5*r+1,7.5+r];o.forEach((e,t)=>{e.style.position="absolute",e.style.top="0",e.style.transform="translateX(-50%)",e.style.left=c[t]+"px"})}function a(e){s.has(e)&&(clearTimeout(s.get(e)),s.delete(e))}function l(e){r.has(e)&&(clearTimeout(r.get(e)),r.delete(e))}function u(e,t,r){a(e);let o=setTimeout(t,r);s.set(e,o)}function d(e,t,s){l(e);let o=setTimeout(t,s);r.set(e,o)}function p(e){let t=e.parentElement.querySelector(".batt-slider-value-float");if(!t){(t=document.createElement("div")).className="batt-slider-value-float";let s=document.createElement("span");s.className="slider-value-text",t.appendChild(s),e.parentElement.appendChild(t)}let s=t.querySelector(".slider-value-text"),r=parseInt(e.value,10);s.textContent=80+r+"%";let o=e.offsetWidth,c=(r-e.min)/(e.max-e.min);t.style.left=`${7.5+(o-15)*c}px`}function m(e){let t=e.parentElement.querySelector(".batt-slider-value-float");t&&t.classList.add("visible")}function _(e){let t=e.parentElement.querySelector(".batt-slider-value-float");t&&t.classList.remove("visible")}function v(e){let t=e.parentElement.querySelector(".slider-value-float");if(!t){(t=document.createElement("div")).className="slider-value-float";let s=document.createElement("span");s.className="slider-value-text",t.appendChild(s),e.parentElement.appendChild(t)}let s=t.querySelector(".slider-value-text"),r=parseInt(e.value,10);s.textContent=0===r?"0":`-${r}`;let o=e.offsetWidth,c=(r-e.min)/(e.max-e.min);t.style.left=`${7.5+(o-15)*c}px`}function y(e){let t=e.parentElement.querySelector(".slider-value-float");t&&t.classList.add("visible")}function f(e){let t=e.parentElement.querySelector(".slider-value-float");t&&t.classList.remove("visible")}function h(s,r=null){document.querySelectorAll("button, .oui-container-toggle, .popup-trigger, .oui-tab-link, .oui-overlay-bubble-info").forEach(e=>{e.style.pointerEvents=s?"":"none"}),[...e,...t].forEach(e=>{let t=document.getElementById(e);t&&t!==r&&(t.style.pointerEvents=s?"":"none")})}e.forEach(e=>{let t=document.getElementById(e);if(!t)return;let s=!1,r=0,c=0,n=!1,i=0,l=!1;t.addEventListener("pointerdown",u=>{let d=Date.now();if(d-(o.get(e)||0)<100)return void u.preventDefault();o.set(e,d),a(e),s=!0,n=!1,l=!1,i=t.valueAsNumber;let p=t.getBoundingClientRect(),m=u.clientX-p.left,_=t.min?Number(t.min):0,f=t.max?Number(t.max):100,h=f-_,g=_+m/p.width*h;t.value=Math.round(Math.min(f,Math.max(_,g))),requestAnimationFrame(()=>{v(t)}),t.valueAsNumber!==i&&(l=!0),r=u.clientX,c=t.valueAsNumber,t.setPointerCapture(u.pointerId),y(t),t.classList.add("active-thumb"),u.preventDefault()},{passive:!1}),t.addEventListener("pointermove",e=>{if(!s)return;e.preventDefault();let o=e.clientX-r;if(Math.abs(o)>5&&(n=!0),n){let e=t.clientWidth,s=t.min?Number(t.min):0,r=t.max?Number(t.max):100,n=c+o/e*(r-s);t.value=Math.round(n=Math.min(r,Math.max(s,n))),requestAnimationFrame(()=>{v(t)}),l=!0}},{passive:!1}),t.addEventListener("pointerup",r=>{if(s){if(s=!1,t.releasePointerCapture(r.pointerId),l&&t.valueAsNumber!==i){let e=new Event("input",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)}u(e,()=>{f(t)},280),t.classList.remove("active-thumb")}},{passive:!1}),t.addEventListener("pointercancel",r=>{s=!1,t.releasePointerCapture(r.pointerId),u(e,()=>{f(t)},280),t.classList.remove("active-thumb")})}),t.forEach(e=>{let t=document.getElementById(e);if(!t)return;let s=!1,r=0,c=0,n=!1,i=0,a=!1;t.addEventListener("pointerdown",u=>{let d=Date.now();if(d-(o.get(e)||0)<100)return void u.preventDefault();o.set(e,d),l(e),s=!0,n=!1,a=!1,i=t.valueAsNumber;let _=t.getBoundingClientRect(),v=u.clientX-_.left,y=t.min?Number(t.min):0,f=t.max?Number(t.max):100,h=f-y,g=y+v/_.width*h;t.value=Math.round(Math.min(f,Math.max(y,g))),requestAnimationFrame(()=>{p(t)}),t.valueAsNumber!==i&&(a=!0),r=u.clientX,c=t.valueAsNumber,t.setPointerCapture(u.pointerId),m(t),t.classList.add("active-thumb"),u.preventDefault()},{passive:!1}),t.addEventListener("pointermove",e=>{if(!s)return;e.preventDefault();let o=e.clientX-r;if(Math.abs(o)>5&&(n=!0),n){let e=t.clientWidth,s=t.min?Number(t.min):0,r=t.max?Number(t.max):100,n=c+o/e*(r-s);t.value=Math.round(n=Math.min(r,Math.max(s,n))),requestAnimationFrame(()=>{p(t)}),a=!0}},{passive:!1}),t.addEventListener("pointerup",r=>{if(s){if(s=!1,t.releasePointerCapture(r.pointerId),a&&t.valueAsNumber!==i){let e=new Event("input",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)}d(e,()=>{_(t)},280),t.classList.remove("active-thumb")}},{passive:!1}),t.addEventListener("pointercancel",r=>{s=!1,t.releasePointerCapture(r.pointerId),d(e,()=>{_(t)},280),t.classList.remove("active-thumb")})}),c(),e.forEach(e=>n(e)),t.forEach(e=>i(e)),e.forEach(e=>{let t=document.getElementById(e);t&&(v(t),t.addEventListener("touchstart",()=>{a(e),h(!1,t),v(t),y(t)}),t.addEventListener("touchend",()=>{h(!0),u(e,()=>{f(t)},270)}),t.addEventListener("input",()=>v(t)),t.addEventListener("mousedown",()=>{a(e),h(!1,t),v(t),y(t)}),window.addEventListener("mouseup",()=>{h(!0),u(e,()=>{f(t)},270)}),window.addEventListener("resize",()=>v(t)))}),t.forEach(e=>{let t=document.getElementById(e);t&&(p(t),t.addEventListener("touchstart",()=>{l(e),h(!1,t),p(t),m(t)}),t.addEventListener("touchend",()=>{h(!0),d(e,()=>{_(t)},270)}),t.addEventListener("input",()=>p(t)),t.addEventListener("mousedown",()=>{l(e),h(!1,t),p(t),m(t)}),window.addEventListener("mouseup",()=>{h(!0),d(e,()=>{_(t)},270)}),window.addEventListener("resize",()=>p(t)))}),window.addEventListener("resize",()=>{c(),e.forEach(e=>n(e)),t.forEach(e=>i(e))})},document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".oui-dialog-mask"),t=null,s=!1,r=0,o=e=>{let t=e.target;for(;t;){let e=window.getComputedStyle(t);if("auto"===e.overflowY||"scroll"===e.overflowY||t.classList&&t.classList.contains("oui-dialog-description"))return;if((t=t.parentElement)&&t.classList&&t.classList.contains("oui-dialog"))break}e.preventDefault()};function c(){s=!0,document.body.style.pointerEvents="none",document.body.style.userSelect="none",document.body.style.overflow="hidden",document.documentElement.style.pointerEvents="none",document.documentElement.style.userSelect="none",document.querySelectorAll(".oui-dialog-action-button, .close-dialog-btn, .reset-dialog-btn").forEach(e=>{e.style.pointerEvents="none"})}function n(){s=!1,document.body.style.pointerEvents="",document.body.style.userSelect="",document.body.style.overflow="",document.documentElement.style.pointerEvents="",document.documentElement.style.userSelect="",document.querySelectorAll(".oui-dialog-action-button, .close-dialog-btn, .reset-dialog-btn").forEach(e=>{e.style.pointerEvents=""})}let i=e=>{r=e.touches[0].clientY},a=e=>{if(!t)return;let s=e.target,o=!1;for(;s&&s!==t;){let e=window.getComputedStyle(s);if(("auto"===e.overflowY||"scroll"===e.overflowY)&&s.scrollHeight>s.clientHeight){o=!0;break}s=s.parentElement}if(o)return;let c=t,n=c.scrollTop,i=c.scrollHeight,a=c.offsetHeight,l=e.touches[0].clientY,u=l>r,d=l<r;(0===n&&u||n+a>=i&&d)&&e.preventDefault(),r=l},l=s=>{c(),s.querySelectorAll('.oui-dialog-description, [style*="overflow-y: auto"], [style*="overflow-y: scroll"]').forEach(e=>{e.scrollTop=0}),s.classList.add("show"),e.classList.add("show"),t=s,document.body.classList.add("no-scroll"),document.addEventListener("touchmove",o,{passive:!1}),document.addEventListener("touchstart",i,{passive:!1}),document.addEventListener("touchmove",a,{passive:!1}),setTimeout(()=>{n()},275)},u=()=>{if(!t)return;c(),t.classList.remove("show"),t.classList.add("hide"),e.classList.remove("show"),document.body.classList.remove("no-scroll"),document.removeEventListener("touchmove",o),document.removeEventListener("touchstart",i),document.removeEventListener("touchmove",a);let s=e=>{e.target===t&&t.classList.contains("hide")&&(t.removeEventListener("transitionend",s),setTimeout(()=>{t.classList.remove("hide"),t=null,n()},5))};t.addEventListener("transitionend",s)};document.querySelectorAll("[data-dialog-target]").forEach(e=>{e.addEventListener("click",t=>{if(s)return t.preventDefault(),t.stopPropagation(),!1;let r=e.getAttribute("data-dialog-target"),o=document.getElementById(r),c=e.querySelector('input[type="checkbox"].toggle');c?setTimeout(()=>{c.checked&&o&&l(o)},0):o&&l(o)})}),document.querySelectorAll(".close-dialog-btn").forEach(e=>{e.addEventListener("click",e=>{if(s)return e.preventDefault(),e.stopPropagation(),!1;u()})}),e.addEventListener("click",e=>{let t=document.getElementById("closing_app_dialog");return s||t&&t.classList.contains("show")?(e.preventDefault(),e.stopPropagation(),!1):void u()});let d=new WeakMap,p=(e,t)=>{let s=d.get(e)||(e=>{if(!e)return null;if(d.has(e))return d.get(e);let t=e.querySelector(".oui-dialog-description");if(!t)return null;let s=e.querySelector(".dialog-top-glow"),r=e.querySelector(".dialog-bottom-glow");s||((s=document.createElement("div")).className="dialog-top-glow",e.appendChild(s)),r||((r=document.createElement("div")).className="dialog-bottom-glow",e.appendChild(r));let o=()=>{let o=t.getBoundingClientRect(),c=e.getBoundingClientRect(),n=o.top-c.top,i=c.bottom-o.bottom;s.style.top=`${n}px`,r.style.bottom=`${i}px`};if(o(),"ResizeObserver"in window){let s=new ResizeObserver(o);s.observe(t),s.observe(e)}s.style.opacity=s.style.opacity||"0",r.style.opacity=r.style.opacity||"0";let c={desc:t,topGlow:s,bottomGlow:r};return d.set(e,c),c})(e);s&&(s.topGlow.style.opacity=t?"1":"0",s.bottomGlow.style.opacity=t?"1":"0")},m=()=>{requestAnimationFrame(()=>{let e=document.querySelector(".oui-dialog.show");if(!e)return p(e,!1);let t=(e=>{if(!e)return null;let t=e.querySelector(".oui-dialog-description");return t||e})(e);p(e,!!(t&&t&&t.scrollHeight>t.clientHeight+1))})};m();let _=new MutationObserver(m);if(document.querySelectorAll(".oui-dialog").forEach(e=>_.observe(e,{attributes:!0,attributeFilter:["class"]})),"ResizeObserver"in window){let e=new ResizeObserver(m);e.observe(document.documentElement),document.querySelectorAll(".oui-dialog, .oui-dialog-description").forEach(t=>e.observe(t))}let v=new MutationObserver(m);document.querySelectorAll(".oui-dialog .oui-dialog-description").forEach(e=>v.observe(e,{childList:!0,subtree:!0})),window.addEventListener("resize",m)}),document.addEventListener("DOMContentLoaded",()=>{let e="/data/adb/modules/battery-guru-optimizer-9810/service.sh",t=e=>{try{let t=ksu.exec(e);if(t&&"function"==typeof t.then)return t.catch(()=>"");if(t&&"function"==typeof t.catch)return t.catch(()=>"");return Promise.resolve(t||"")}catch(e){return Promise.resolve("")}},s=(t,s)=>`sed -i "s|echo ['\\"][^'\\"]*['\\"] > ${t}|echo '${s}' > ${t}|g" ${e}; `;function r(e){"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,0)}let o=[{id:"cpu_hotplug",probePath:"CPUHOTPLUG_STATE_MARKER",marker:"hotplugset_on",defaultState:!0,paths:{"/sys/power/cpuhotplug/governor/user_mode":{active:"0",inactive:"1"},"/sys/power/cpuhotplug/governor/enabled":{active:"0",inactive:"1"}}},{id:"power_eff",probePath:"POWEREFFI_STATE_MARKER",marker:"powereffiset_on",defaultState:!0,paths:{"/sys/module/workqueue/parameters/power_efficient":{active:"Y",inactive:"N"}}},{id:"thermal_opt",probePath:"THERMAL_STATE_MARKER",marker:"thermalset_on",defaultState:!0,paths:{THERMAL_STATE_MARKER:{active:"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0; chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus; echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres; echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms; echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres; chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus; pm disable com.google.android.gms/.chimera.GmsIntentOperationService".replace(/\n/g," "),inactive:"system_table_unset activity_manager_constants; pm enable com.google.android.gms/.chimera.GmsIntentOperationService".replace(/\n/g," ")}}},{id:"swap_opt",probePath:"SWAP_STATE_MARKER",marker:"swapset_on",defaultState:!0,paths:{"/proc/sys/vm/dirty_ratio":{active:"10",inactive:"0"},"/proc/sys/vm/dirty_background_ratio":{active:"3",inactive:"0"},"/proc/sys/vm/dirty_expire_centisecs":{active:"2500",inactive:"200"},"/proc/sys/vm/dirty_writeback_centisecs":{active:"1250",inactive:"500"},"/proc/sys/vm/laptop_mode":{active:"2",inactive:"0"},"/proc/sys/vm/swappiness":{active:"70",inactive:"100"}}},{id:"storage_opt",probePath:"STORAGE_STATE_MARKER",marker:"storageset_on",defaultState:!0,paths:{"/sys/block/sda/queue/rotational":{active:"1",inactive:"0"},"/sys/block/sda/queue/add_random":{active:"1",inactive:"0"},"/sys/block/sda/queue/rq_affinity":{active:"2",inactive:"1"}}},{id:"batteryprotect_opt",probePath:"BATTERYPROTECT_STATE_MARKER",marker:"batteryprotect_on",defaultState:!1,paths:{"/sys/class/power_supply/battery/batt_full_capacity":{active:"90",inactive:"100"}}},{id:"frq_on",probePath:"FRQ_STATE_MARKER",marker:"frqset_on",defaultState:!0,paths:{"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":{active:"1690000",inactive:"1794000"},"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq":{active:"1794000",inactive:"2704000"}}},{id:"volt_on",probePath:"VOLTAGE_STATE_MARKER",marker:"voltset_on",defaultState:!0,paths:{"/sys/power/percent_margin/big_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/lit_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/g3d_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/mif_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/aud_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/cam_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/cp_margin_percent":{active:"0",inactive:"0"},"/sys/power/percent_margin/disp_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/fsys0_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/int_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/intcam_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/iva_margin_percent":{active:"-4",inactive:"0"},"/sys/power/percent_margin/score_margin_percent":{active:"-4",inactive:"0"}}},{id:"forcedoze_opt",probePath:"FORCEDOZE_LAB_MARKER",marker:"forcedoze_on",defaultState:!1,paths:{FORCEDOZE_LAB_MARKER:{active:"dumpsys deviceidle force-idle".replace(/\n/g," "),inactive:"dumpsys deviceidle unforce".replace(/\n/g," ")}}},{id:"forceappsbatt_opt",probePath:"FORCEAPPSBATT_LAB_MARKER",marker:"forceappsbattopt_on",defaultState:!1,paths:{FORCEAPPSBATT_LAB_MARKER:{active:"settings put global forced_app_standby_enabled 1".replace(/\n/g," "),inactive:"settings put global forced_app_standby_enabled 0".replace(/\n/g," ")}}}];o.forEach(o=>(function({id:o,paths:c,probePath:n,marker:i,defaultState:a=!0}){let l=document.getElementById(o);if(!l)return;let u=l.closest(".oui-container-toggle");u&&u.classList.add("no-animation");let d=n&&c[n]?n:Object.keys(c)[0],p=c[d].active,m=c[d].inactive,_=`toggle_state_${o}`,v=a,y=localStorage.getItem(_);null!==y&&(v="1"===y),l.checked=!!v,u&&requestAnimationFrame(()=>u.classList.remove("no-animation")),r(()=>{try{i?t(`grep -F "# ${i}=" ${e} || echo "# ${i}=0"`).then(n=>{let i=n.includes("=1");if(localStorage.setItem(_,i?"1":"0"),c&&Object.keys(c).length>0){let n="";for(let t in c){let r=i?c[t].active:c[t].inactive;if("frq_on"===o&&i&&(t.includes("policy0")||t.includes("policy4"))){let r=t.includes("policy0")?"lit":"big";n+=`val=$(grep -F "# ${r}=" ${e} | awk '{print $2}' | sed 's/Mhz//'); `,n+=`val=$((val*1000)); echo $val > ${t}; `,n+=s(t,`$((${r}*1000))`)+" ";continue}n+=`echo '${r}' > ${t}; `,n+=s(t,r)}r(()=>t(n))}l.checked=i}):t(`grep -F "${d}" ${e} || true`).then(e=>{let s=v,r=e.includes(`echo '${p}' > ${d}`)||e.includes(`echo "${p}" > ${d}"`),o=e.includes(`echo '${m}' > ${d}`)||e.includes(`echo "${m}" > ${d}"`);r&&!o?s=!0:o&&!r?s=!1:t(`cat ${d} || true`).then(e=>{s=e.trim()===p});let n=s?p:m;t(`cat ${d} || true`).then(e=>{if(""!==e.trim()&&e.trim()!==n){let e="";for(let t in c)e+=`echo '${s?c[t].active:c[t].inactive}' > ${t}; `;t(e)}localStorage.setItem(_,s?"1":"0")}),l.checked=s})}catch{}}),l.addEventListener("change",()=>{let n=l.checked;localStorage.setItem(_,n?"1":"0");let a="";if(i&&(a+=`sed -i "s|# ${i}=.*$|# ${i}=${+!!n}|" ${e}; `),"thermal_opt"===o){let t=`${e}.thermal_block.tmp`,s=`${e}.tmp`;if(n){let r=`# thermalset_on=1
system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0
chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms
echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres
echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres
chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus
pm disable com.google.android.gms/.chimera.GmsIntentOperationService`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# thermalset_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}else{let r=`# thermalset_on=0
system_table_unset activity_manager_constants
pm enable com.google.android.gms/.chimera.GmsIntentOperationService`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# thermalset_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}}else if("forcedoze_opt"===o){let t=`${e}.forcedoze_block.tmp`,s=`${e}.tmp`;if(n){let r=`# forcedoze_on=1
dumpsys deviceidle force-idle`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# forcedoze_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}else{let r=`# forcedoze_on=0
dumpsys deviceidle unforce`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# forcedoze_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}}else if("forceappsbatt_opt"===o){let t=`${e}.forcebattapps_block.tmp`,s=`${e}.tmp`;if(n){let r=`# forceappsbattopt_on=1
settings put global forced_app_standby_enabled 1`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# forceappsbattopt_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}else{let r=`# forceappsbattopt_on=0
settings put global forced_app_standby_enabled 0`;a+=`cat > ${t} <<'EOB'
${r}
EOB
`,a+=`awk -v blk='${t}' -v marker='^# forceappsbattopt_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${s}; `,a+=`mv ${s} ${e}; rm -f ${t}; `}}else if(c&&Object.keys(c).length>0)for(let t in c){let r=n?c[t].active:c[t].inactive;if("frq_on"===o&&n&&(t.includes("policy0")||t.includes("policy4"))){let r=t.includes("policy0")?"lit":"big";a+=`val=$(grep -F "# ${r}=" ${e} | awk '{print $2}' | sed 's/Mhz//'); `,a+=`val=$((val*1000)); echo $val > ${t}; `,a+=s(t,`$((${r}*1000))`)+" ";continue}a+=`echo '${r}' > ${t}; `,a+=s(t,r)}r(()=>t(a)),"thermal_opt"===o&&t(l.checked?"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0 && chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus && chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus && echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus && echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus && echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres && echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres && echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres && echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms && echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus && echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus && echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres && echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres && echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms && echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres && chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus && pm disable com.google.android.gms/.chimera.GmsIntentOperationService":"system_table_unset activity_manager_constants && pm enable com.google.android.gms/.chimera.GmsIntentOperationService"),"forcedoze_opt"===o&&t(l.checked?"dumpsys deviceidle force-idle":"dumpsys deviceidle unforce"),"forceappsbatt_opt"===o&&t(l.checked?"settings put global forced_app_standby_enabled 1":"settings put global forced_app_standby_enabled 0")})})(o)),function(){let s=document.getElementById("popup-menu");if(!s)return;let o=s.querySelector(".popup-content"),c=document.getElementById("popup-options"),n=!1,i=!1,a=!0;function l(){s.classList.remove("show"),i=!1,a=!0,document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active"))}function u(o,n,l){c.innerHTML="",o.forEach((u,d)=>{let p=document.createElement("li");p.className="oui-bubble-item";let m="";if(1===o.length?m="rounded-all":0===d?m="rounded-top":d===o.length-1&&(m="rounded-bottom"),p.innerHTML=`<div class="popup-inner"><span class="popup-text">${u}</span></div><span class="popup-effect ${m}"></span>`,u===n){p.classList.add("selected");let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("class","popup-icon-selected checkmark"),e.innerHTML='<path style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:3" d="m5 12 5 5 9-9"/>',p.querySelector(".popup-inner").appendChild(e)}let _=p.querySelector(".popup-inner"),v=p.querySelector(".popup-effect"),y=!1,f=!1,h=()=>{if(v.classList.contains("animate-in")){v.classList.remove("animate-in"),v.classList.add("animate-out");let e=()=>{v.classList.remove("animate-out"),v.removeEventListener("animationend",e)};v.addEventListener("animationend",e)}_.classList.remove("pressed-effect")};p.addEventListener("pointerdown",e=>{if(!a)return void e.stopPropagation();y=!0,f=!1,_.classList.add("pressed-effect"),v.classList.add("animate-in"),setTimeout(()=>{f||h()},400)}),p.addEventListener("pointermove",e=>{if(!y)return;let t=p.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom||f||(f=!0,y=!1,h(),e.preventDefault(),e.stopPropagation())}),p.addEventListener("pointerleave",()=>{y&&!f&&(f=!0,y=!1,h())}),p.addEventListener("pointerup",()=>{y=!1,h()}),p.addEventListener("pointercancel",()=>{y=!1,f=!0,h()}),p.addEventListener("click",o=>{if(!a)return;o.stopPropagation(),s.classList.remove("show"),i=!1,a=!0,document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active")),l.dataset.selected=u;let c=l.querySelector(".popup-value");c||((c=document.createElement("span")).className="popup-value",l.appendChild(c)),c.textContent=u,localStorage.setItem(l.id,u);let n="frq_little"===l.id?"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq",d=1e3*u.replace("Mhz",""),p="frq_little"===l.id?"# lit=":"# big=",m=`echo '${d}' > ${n}; sed -i "s|echo ['\\"][^'\\"]*['\\"] > ${n}|echo '${d}' > ${n}|g" ${e}; sed -i "s|${p}.*|${p}${u}|" ${e}`;r(()=>t(m))}),c.appendChild(p)});let u=l.querySelector(".popup-value");u&&(u.textContent=n)}function d(e){let t=e.getBoundingClientRect(),r=s.offsetHeight,o=s.offsetWidth,c=window.innerWidth,n=JSON.parse(e.dataset.options).length,i=t.top+window.scrollY+t.height/2-r/2-40*(n>10)-177,a=t.right+8;a+o>c&&(a=c-o-26),s.style.top=`${i}px`,s.style.left=`${a}px`}document.addEventListener("pointerdown",e=>{n=!s.contains(e.target)},!0),document.addEventListener("pointerup",e=>{i&&n&&!s.contains(e.target)&&(l(),e.preventDefault(),e.stopPropagation())},!0),["click","pointerdown","pointerup","touchstart","touchend"].forEach(e=>{document.addEventListener(e,e=>{i&&!s.contains(e.target)&&(e.preventDefault(),e.stopPropagation())},{capture:!0,passive:!1})}),["frq_little","frq_big"].forEach(e=>{let t=document.getElementById(e);if(!t)return;let r=localStorage.getItem(e)||({frq_little:"1690 Mhz",frq_big:"1794 Mhz"})[e];t.dataset.selected=r;let c=t.querySelector(".popup-value");c||((c=document.createElement("span")).className="popup-value",t.appendChild(c)),c.textContent=r,t.addEventListener("click",e=>{if(e.stopPropagation(),t.classList.contains("popup-label-active"))return void l();document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active")),t.classList.add("popup-label-active"),function(e=300){a=!1,setTimeout(()=>{a=!0},e)}(300);let r=JSON.parse(t.dataset.options),c=t.dataset.selected;s.classList.contains("show")?(d(t),o.classList.add("switching"),setTimeout(()=>{u(r,c,t),o.classList.remove("switching")},150)):(u(r,c,t),requestAnimationFrame(()=>{d(t),s.classList.add("show"),i=!0}))})})}();let c=[{id:"batt_level",path:"/sys/class/power_supply/battery/batt_full_capacity",marker:"battery_litmit"}];function n(e){return Math.round(e)+80}function i(e){return Math.round(parseInt(e))-80}c.forEach(o=>{let c,a=document.getElementById(o.id);if(!a)return;let l=`battery_${o.id}`,u=localStorage.getItem(l);a.value=i(u=null===u?90:parseInt(u)),r(()=>{try{t(`grep -F "# ${o.marker}=" ${e} || echo "# ${o.marker}=90%"`).then(e=>{let c=e.match(RegExp(`# ${o.marker}=(\\d+)%`));if(c){let e=parseInt(c[1]);a.value=i(e),localStorage.setItem(l,e);let n=document.getElementById("batteryprotect_opt");if(n&&n.checked){let c=`echo '${e}' > ${o.path}; `+s(o.path,e);r(()=>t(c))}}})}catch{}}),a.addEventListener("input",()=>{let i=n(Math.round(parseFloat(a.value)));localStorage.setItem(l,i),clearTimeout(c),c=setTimeout(()=>{let c=document.getElementById("batteryprotect_opt"),n=c&&c.checked,a="";a+=`sed -i "s|# ${o.marker}=.*|# ${o.marker}=${i}%|" ${e}; `,n?(a+=`sed -i "s|# batteryprotect_on=.*|# batteryprotect_on=1|" ${e}; `,a+=`echo '${i}' > ${o.path}; `,a+=s(o.path,i)):(a+=`sed -i "s|# batteryprotect_on=.*|# batteryprotect_on=0|" ${e}; `,a+=`echo '100' > ${o.path}; `,a+=s(o.path,"100")),r(()=>t(a))},5)})});let a=document.getElementById("batteryprotect_opt");a&&a.addEventListener("change",()=>{let o=a.checked;c.forEach(c=>{let i=document.getElementById(c.id);if(!i)return;let a=n(Math.round(parseFloat(i.value))),l=o?a:100,u=`sed -i "s|# batteryprotect_on=.*|# batteryprotect_on=${+!!o}|" ${e}; `;u+=`echo '${l}' > ${c.path}; `,u+=s(c.path,l),r(()=>t(u))})});let l=[{id:"volt_big",path:"/sys/power/percent_margin/big_margin_percent",marker:"big_volt"},{id:"volt_little",path:"/sys/power/percent_margin/lit_margin_percent",marker:"lit_volt"},{id:"volt_gpu",path:"/sys/power/percent_margin/g3d_margin_percent",marker:"g3d_volt"},{id:"volt_mif",path:"/sys/power/percent_margin/mif_margin_percent",marker:"mif_volt"},{id:"volt_audio",path:"/sys/power/percent_margin/aud_margin_percent",marker:"aud_volt"},{id:"volt_camera",path:"/sys/power/percent_margin/cam_margin_percent",marker:"cam_volt"},{id:"volt_cp",path:"/sys/power/percent_margin/cp_margin_percent",marker:"cp_volt"},{id:"volt_display",path:"/sys/power/percent_margin/disp_margin_percent",marker:"disp_volt"},{id:"volt_fsys",path:"/sys/power/percent_margin/fsys0_margin_percent",marker:"fsys0_volt"},{id:"volt_int",path:"/sys/power/percent_margin/int_margin_percent",marker:"int_volt"},{id:"volt_intcamera",path:"/sys/power/percent_margin/intcam_margin_percent",marker:"intcam_volt"},{id:"volt_iva",path:"/sys/power/percent_margin/iva_margin_percent",marker:"iva_volt"},{id:"volt_score",path:"/sys/power/percent_margin/score_margin_percent",marker:"score_volt"}];function u(e){return-Math.round(e)}function d(e){return-Math.round(parseInt(e))}l.forEach(o=>{let c,n=document.getElementById(o.id);if(!n)return;let i="volt_cp"===o.id?0:-4,a=`voltage_${o.id}`,l=localStorage.getItem(a);n.value=d(l=null===l?i:parseInt(l)),r(()=>{try{let c="volt_cp"===o.id?0:-4;t(`grep -F "# ${o.marker}=" ${e} || echo "# ${o.marker}=${c}"`).then(e=>{let c=e.match(RegExp(`# ${o.marker}=(-?\\d+)`));if(c){let e=parseInt(c[1]);n.value=d(e),localStorage.setItem(a,e);let i=document.getElementById("volt_on");if(i&&i.checked){let c=`echo '${e}' > ${o.path}; `+s(o.path,e);r(()=>t(c))}}})}catch{}}),n.addEventListener("input",()=>{let i=u(Math.round(parseFloat(n.value)));localStorage.setItem(a,i),clearTimeout(c),c=setTimeout(()=>{let c=document.getElementById("volt_on"),n=c&&c.checked,a="";a+=`sed -i "s|# ${o.marker}=.*|# ${o.marker}=${i}|" ${e}; `,n?(a+=`echo '${i}' > ${o.path}; `,a+=s(o.path,i)):(a+=`echo '0' > ${o.path}; `,a+=s(o.path,"0")),r(()=>t(a))},150)})});let p=document.getElementById("volt_on");p&&p.addEventListener("change",()=>{let e=p.checked;l.forEach(o=>{let c=document.getElementById(o.id);if(!c)return;let n=u(Math.round(parseFloat(c.value))),i=e?n:0,a=`echo '${i}' > ${o.path}; `+s(o.path,i);r(()=>t(a))})});let m=!1,_=[],v=!1,y=async()=>{if(!v&&0!==_.length){for(v=!0;_.length>0;){let e=_.shift();try{await t(e),await new Promise(e=>setTimeout(e,15))}catch{}}v=!1}},f=e=>{_.push(e),setTimeout(y,0)};r(()=>{try{let r=async s=>{try{return(await t(`grep -m1 "^[#][[:space:]]*${s}=" ${e} | head -n1 | cut -d'=' -f2`)).trim()}catch{return null}},n=(e,t)=>{if(!e||!t)return!1;let s=Number(e.replace(/\s*Mhz\s*/i,"")),r=Number(t.replace(/\s*Mhz\s*/i,""));return s===r};setTimeout(()=>{o.forEach(e=>{let t,s=e.id,r=`toggle_state_${s}`,o=document.getElementById(s);if(!o)return;if(null===localStorage.getItem(r)){let s=void 0===e.defaultState||e.defaultState;t=s,localStorage.setItem(r,s?"1":"0")}else t="1"===localStorage.getItem(r);o.checked=t;let c=new Event("change",{bubbles:!0});o.dispatchEvent(c)})},0),setTimeout(async()=>{for(let t=0;t<c.length;t++){let o=c[t];setTimeout(async()=>{try{let t,c=`battery_${o.id}`,n=document.getElementById(o.id);if(!n)return;null===localStorage.getItem(c)?(t=90,localStorage.setItem(c,String(t))):t=Number(localStorage.getItem(c)),n.value=i(t);let a=await r(o.marker);if(null===a||Number(a.replace("%",""))!==t){let r=document.getElementById("batteryprotect_opt"),c=!!r&&r.checked,n=c?t:100,i=`
                  if grep -m1 -q "^[#][[:space:]]*${o.marker}=" "${e}"; then
                    sed -i 's|^[#][[:space:]]*${o.marker}=.*|# ${o.marker}=${t}%|' "${e}";
                  else
                    printf "# ${o.marker}=%s%%\\n" "${t}" >> "${e}";
                  fi
                  if grep -m1 -q "^[#][[:space:]]*batteryprotect_on=" "${e}"; then
                    sed -i 's|^[#][[:space:]]*batteryprotect_on=.*|# batteryprotect_on=${+!!c}|' "${e}";
                  else
                    printf "# batteryprotect_on=%s\\n" "${+!!c}" >> "${e}";
                  fi
                  echo '${n}' > ${o.path};
                  ${s(o.path,n)}
                `.trim();f(i)}}catch{}},10*t)}setTimeout(()=>{m=!0},5)},5),setTimeout(async()=>{for(let t of["frq_little","frq_big"]){let o,c=document.getElementById(t);if(!c)continue;let i={frq_little:"1690 Mhz",frq_big:"1794 Mhz"},a="frq_little"===t?"lit":"big";null===localStorage.getItem(t)?(o=i[t],localStorage.setItem(t,o)):o=localStorage.getItem(t),c.dataset.selected=o;let l=c.querySelector(".popup-value");l||((l=document.createElement("span")).className="popup-value",c.appendChild(l)),l.textContent=o,setTimeout(async()=>{try{let c=await r(a);if(!n(o,c)){let r,c="frq_little"===t?"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq",n=document.getElementById("frq_on"),i=n&&n.checked,a={frq_little:1794e3,frq_big:2704e3};if(i){let e=Number(o.replace(/\s*Mhz\s*/i,""));r=1e3*e}else r=a[t];let l="frq_little"===t?"# lit=":"# big=",u=`sed -i "s|${l}.*|${l}${o}|" ${e}; echo '${r}' > ${c}; `+s(c,r);f(u)}}catch{}},"frq_little"===t?120:200)}},50),setTimeout(async()=>{for(let t=0;t<l.length;t++){let o=l[t];setTimeout(async()=>{try{let t,c=`voltage_${o.id}`,n=document.getElementById(o.id);if(!n)return;null===localStorage.getItem(c)?(t="volt_cp"===o.id?0:-4,localStorage.setItem(c,String(t))):t=Number(localStorage.getItem(c)),n.value=d(t);let i=await r(o.marker);if(null===i||Number(i)!==t){let r=document.getElementById("volt_on"),c=r&&r.checked?t:0,n=`
                  if grep -m1 -q "^[#][[:space:]]*${o.marker}=" "${e}"; then
                    sed -i 's|^[#][[:space:]]*${o.marker}=.*|# ${o.marker}=${t}|' "${e}";
                  else
                    printf "# ${o.marker}=%s\\n" "${t}" >> "${e}";
                  fi
                  echo '${c}' > ${o.path};
                  ${s(o.path,c)}
                `.trim();f(n)}}catch{}},80*t)}setTimeout(()=>{m=!0},80*l.length+450)},250)}catch{setTimeout(()=>{m=!0},350)}}),window.isInitialLoadComplete=()=>m}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".close-dialog-text-reset");if(e){let t=e.closest(".reset-dialog-btn");t&&(t.removeEventListener("click",()=>{let e=document.querySelector(".oui-dialog.show"),t=document.querySelector(".oui-dialog-mask");return!!e&&!!t&&(e.classList.remove("show"),e.classList.add("hide"),t.classList.remove("show"),document.body.classList.remove("no-scroll"),setTimeout(()=>{e.classList.remove("hide")},5),!0)}),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();let t=document.createElement("div");t.id="temp-blocking-layer",t.style.cssText=`
          position: fixed; top: 0; left: 0;
          width: 100%; height: 100%;
          z-index: 3000; pointer-events: all;
        `,document.body.appendChild(t),document.body.classList.add("no-scroll"),(()=>{let e=document.querySelector(".oui-dialog.show"),t=document.querySelector(".oui-dialog-mask");return!!e&&(e.classList.remove("show"),e.classList.add("hide"),t&&t.classList.add("show"),document.body.classList.add("no-scroll"),setTimeout(()=>{e.classList.remove("hide")},5),!0)})()&&setTimeout(()=>{let e=document.getElementById("temp-blocking-layer");e&&e.remove();let t=document.getElementById("closing_app_dialog"),s=document.querySelector(".oui-dialog-mask");t&&s&&(t.classList.add("show"),s.classList.add("show"),document.body.classList.add("no-scroll")),setTimeout(()=>{let e=["echo '0' > /sys/power/cpuhotplug/governor/user_mode","echo '0' > /sys/power/cpuhotplug/governor/enabled","echo 'Y' > /sys/module/workqueue/parameters/power_efficient","system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0","chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus","echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres","echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms","echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres","echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres","chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus","pm disable com.google.android.gms/.chimera.GmsIntentOperationService","echo '10' > /proc/sys/vm/dirty_ratio","echo '3' > /proc/sys/vm/dirty_background_ratio","echo '2500' > /proc/sys/vm/dirty_expire_centisecs","echo '1250' > /proc/sys/vm/dirty_writeback_centisecs","echo '2' > /proc/sys/vm/laptop_mode","echo '70' > /proc/sys/vm/swappiness","echo '1' > /sys/block/sda/queue/rotational","echo '1' > /sys/block/sda/queue/add_random","echo '2' > /sys/block/sda/queue/rq_affinity","echo '100' > /sys/class/power_supply/battery/batt_full_capacity","echo '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq","echo '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq","echo '-4' > /sys/power/percent_margin/big_margin_percent","echo '-4' > /sys/power/percent_margin/lit_margin_percent","echo '-4' > /sys/power/percent_margin/g3d_margin_percent","echo '-4' > /sys/power/percent_margin/mif_margin_percent","echo '-4' > /sys/power/percent_margin/aud_margin_percent","echo '-4' > /sys/power/percent_margin/cam_margin_percent","echo '0' > /sys/power/percent_margin/cp_margin_percent","echo '-4' > /sys/power/percent_margin/disp_margin_percent","echo '-4' > /sys/power/percent_margin/fsys0_margin_percent","echo '-4' > /sys/power/percent_margin/int_margin_percent","echo '-4' > /sys/power/percent_margin/intcam_margin_percent","echo '-4' > /sys/power/percent_margin/iva_margin_percent","echo '-4' > /sys/power/percent_margin/score_margin_percent","dumpsys deviceidle unforce","settings put global forced_app_standby_enabled 0"],t=`# BATTERY GURU OPTIMIZER (ALL SETTINGS)
# Developed by @EliezerB03

#!/sbin/sh

# ============== ALL OPTIMIZATIONS  ============== #

#---------------< CPU HOTPLUG OPTIMIZATIONS >---------------#
# hotplugset_on=1
echo '0' > /sys/power/cpuhotplug/governor/user_mode
echo '0' > /sys/power/cpuhotplug/governor/enabled

#---------------< CPU POWER EFFICIENT >---------------#
# powereffiset_on=1
echo 'Y' > /sys/module/workqueue/parameters/power_efficient

#---------------< THERMAL OPTIMIZATIONS >---------------#
# thermalset_on=1
system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0
chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms
echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres
echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres
chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus
pm disable com.google.android.gms/.chimera.GmsIntentOperationService

#---------------< SWAP OPTIMIZATIONS >---------------#
# swapset_on=1
echo '10' > /proc/sys/vm/dirty_ratio
echo '3' > /proc/sys/vm/dirty_background_ratio
echo '2500' > /proc/sys/vm/dirty_expire_centisecs
echo '1250' > /proc/sys/vm/dirty_writeback_centisecs
echo '2' > /proc/sys/vm/laptop_mode
echo '70' > /proc/sys/vm/swappiness

#---------------< STORAGE OPTIMIZATIONS >---------------#
# storageset_on=1
echo '1' > /sys/block/sda/queue/rotational
echo '1' > /sys/block/sda/queue/add_random
echo '2' > /sys/block/sda/queue/rq_affinity

#---------------< BATTERY PROTECTION >---------------#
# batteryprotect_on=0
# battery_litmit=90%
echo '100' > /sys/class/power_supply/battery/batt_full_capacity

#---------------< FREQS SETTINGS >---------------#
# frqset_on=1
# lit=1690 Mhz
echo '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq
# big=1794 Mhz
echo '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq

#---------------< VOLTAGE SETTINGS >---------------#
# voltset_on=1
# big_volt=-4
echo '-4' > /sys/power/percent_margin/big_margin_percent
# lit_volt=-4
echo '-4' > /sys/power/percent_margin/lit_margin_percent
# g3d_volt=-4
echo '-4' > /sys/power/percent_margin/g3d_margin_percent
# mif_volt=-4
echo '-4' > /sys/power/percent_margin/mif_margin_percent
# aud_volt=-4
echo '-4' > /sys/power/percent_margin/aud_margin_percent
# cam_volt=-4
echo '-4' > /sys/power/percent_margin/cam_margin_percent
# cp_volt=0
echo '0' > /sys/power/percent_margin/cp_margin_percent
# disp_volt=-4
echo '-4' > /sys/power/percent_margin/disp_margin_percent
# fsys0_volt=-4
echo '-4' > /sys/power/percent_margin/fsys0_margin_percent
# int_volt=-4
echo '-4' > /sys/power/percent_margin/int_margin_percent
# intcam_volt=-4
echo '-4' > /sys/power/percent_margin/intcam_margin_percent
# iva_volt=-4
echo '-4' > /sys/power/percent_margin/iva_margin_percent
# score_volt=-4
echo '-4' > /sys/power/percent_margin/score_margin_percent

#---------------< FORCE DOZE (LABS) >---------------#
# forcedoze_on=0
dumpsys deviceidle unforce

#---------------< FORCE BATTERY OPTIMIZATIONS ON APPS (LABS) >---------------#
# forceappsbattopt_on=0
settings put global forced_app_standby_enabled 0

# ======================================`;ksu.exec("rm -rf /data/data/me.weishu.kernelsu/app_webview"),ksu.exec("rm -rf /data/data/com.rifsxd.ksunext/app_webview"),ksu.exec("rm -rf /data/data/me.bmax.apatch/app_webview"),setTimeout(()=>{e.forEach(e=>{ksu.exec(e)}),ksu.exec(`cat > /data/adb/modules/battery-guru-optimizer-9810/service.sh << 'EOF'
${t}
EOF`)},2e3),setTimeout(()=>{ksu.exec("am force-stop me.weishu.kernelsu"),ksu.exec("am force-stop com.rifsxd.ksunext"),ksu.exec("am force-stop me.bmax.apatch")},2e3)},1e3)},700)}))}});