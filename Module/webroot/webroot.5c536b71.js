document.addEventListener("DOMContentLoaded",()=>{let e="/data/adb/modules/battery-guru-optimizer-9810/service.sh",t=e=>ksu.exec(e).catch(()=>""),c=(t,c)=>`sed -i "s|echo ['\\"][^'\\"]*['\\"] > ${t}|echo '${c}' > ${t}|g" ${e}; `;function s(e){"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,0)}let i=[{id:"cpu_hotplug",probePath:"CPUHOTPLUG_STATE_MARKER",marker:"hotplugset_on",defaultState:!0,paths:{"/sys/power/cpuhotplug/governor/user_mode":{active:"0",inactive:"1"},"/sys/power/cpuhotplug/governor/enabled":{active:"0",inactive:"1"}}},{id:"power_eff",probePath:"POWEREFFI_STATE_MARKER",marker:"powereffiset_on",defaultState:!0,paths:{"/sys/module/workqueue/parameters/power_efficient":{active:"Y",inactive:"N"}}},{id:"thermal_opt",probePath:"THERMAL_STATE_MARKER",marker:"thermalset_on",defaultState:!0,paths:{THERMAL_STATE_MARKER:{active:"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0; chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus; echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres; echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms; echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres; chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus; pm disable com.google.android.gms/.chimera.GmsIntentOperationService".replace(/\n/g," "),inactive:"system_table_unset activity_manager_constants; pm enable com.google.android.gms/.chimera.GmsIntentOperationService".replace(/\n/g," ")}}},{id:"swap_opt",probePath:"SWAP_STATE_MARKER",marker:"swapset_on",defaultState:!0,paths:{"/proc/sys/vm/dirty_ratio":{active:"10",inactive:"0"},"/proc/sys/vm/dirty_background_ratio":{active:"3",inactive:"0"},"/proc/sys/vm/dirty_expire_centisecs":{active:"2500",inactive:"200"},"/proc/sys/vm/dirty_writeback_centisecs":{active:"1250",inactive:"500"},"/proc/sys/vm/laptop_mode":{active:"2",inactive:"0"},"/proc/sys/vm/swappiness":{active:"70",inactive:"100"}}},{id:"storage_opt",probePath:"STORAGE_STATE_MARKER",marker:"storageset_on",defaultState:!0,paths:{"/sys/block/sda/queue/rotational":{active:"1",inactive:"0"},"/sys/block/sda/queue/add_random":{active:"1",inactive:"0"},"/sys/block/sda/queue/rq_affinity":{active:"2",inactive:"1"}}},{id:"frq_on",probePath:"FRQ_STATE_MARKER",marker:"frqset_on",defaultState:!0,paths:{"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":{active:null,inactive:"1794000"},"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq":{active:null,inactive:"2704000"}}},{id:"volt_on",probePath:"VOLTAGE_STATE_MARKER",marker:"voltset_on",defaultState:!0,paths:{"/sys/power/percent_margin/big_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/lit_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/g3d_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/mif_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/aud_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/cam_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/cp_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/disp_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/fsys0_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/int_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/intcam_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/iva_margin_percent":{active:null,inactive:"0"},"/sys/power/percent_margin/score_margin_percent":{active:null,inactive:"0"}}},{id:"kernel_debug",probePath:"DEBUG_STATE_MARKER",marker:"kerneldebug_on",defaultState:!1,paths:{"/proc/sys/kernel/panic":{active:"1",inactive:"0"},"/sys/kernel/debug/debug_enabled":{active:"Y",inactive:"N"},"/sys/kernel/debug/seclog/seclog_enabled":{active:"Y",inactive:"N"}}}];i.forEach(i=>(function({id:i,paths:r,probePath:a,marker:n,defaultState:o=!0}){let l=document.getElementById(i);if(!l)return;let _=l.closest(".oui-container-toggle");_&&_.classList.add("no-animation");let p=a&&r[a]?a:Object.keys(r)[0],m=r[p].active,u=r[p].inactive,d=`toggle_state_${i}`,v=o,h=localStorage.getItem(d);null!==h&&(v="1"===h),l.checked=!!v,_&&requestAnimationFrame(()=>_.classList.remove("no-animation")),s(()=>{try{n?t(`grep -F "# ${n}=" ${e} || echo "# ${n}=0"`).then(a=>{let n=a.includes("=1");if(localStorage.setItem(d,n?"1":"0"),r&&Object.keys(r).length>0){let a="";for(let t in r){let s=n?r[t].active:r[t].inactive;if("frq_on"===i&&n&&(t.includes("policy0")||t.includes("policy4"))){let s=t.includes("policy0")?"lit":"big";a+=`val=$(grep -F "# ${s}=" ${e} | awk '{print $2}' | sed 's/Mhz//'); `,a+=`val=$((val*1000)); echo $val > ${t}; `,a+=c(t,`$((${s}*1000))`)+" ";continue}a+=`echo '${s}' > ${t}; `,a+=c(t,s)}s(()=>t(a))}l.checked=n}):t(`grep -F "${p}" ${e} || true`).then(e=>{let c=v,s=e.includes(`echo '${m}' > ${p}`)||e.includes(`echo "${m}" > ${p}"`),i=e.includes(`echo '${u}' > ${p}`)||e.includes(`echo "${u}" > ${p}"`);s&&!i?c=!0:i&&!s?c=!1:t(`cat ${p} || true`).then(e=>{c=e.trim()===m});let a=c?m:u;t(`cat ${p} || true`).then(e=>{if(""!==e.trim()&&e.trim()!==a){let e="";for(let t in r)e+=`echo '${c?r[t].active:r[t].inactive}' > ${t}; `;t(e)}localStorage.setItem(d,c?"1":"0")}),l.checked=c})}catch{}}),l.addEventListener("change",()=>{let a=l.checked;localStorage.setItem(d,a?"1":"0");let o="";if(n&&(o+=`sed -i "s|# ${n}=.*$|# ${n}=${+!!a}|" ${e}; `),"thermal_opt"===i){let t=`${e}.thermal_block.tmp`,c=`${e}.tmp`;if(a){let s=`# thermalset_on=1
system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0
chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres
echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms
echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres
echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres
chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus
pm disable com.google.android.gms/.chimera.GmsIntentOperationService`;o+=`cat > ${t} <<'EOB'
${s}
EOB
`,o+=`awk -v blk='${t}' -v marker='^# thermalset_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${c}; `,o+=`mv ${c} ${e}; rm -f ${t}; `}else{let s=`# thermalset_on=0
system_table_unset activity_manager_constants
pm enable com.google.android.gms/.chimera.GmsIntentOperationService`;o+=`cat > ${t} <<'EOB'
${s}
EOB
`,o+=`awk -v blk='${t}' -v marker='^# thermalset_on=' 'BEGIN{skip=0;found=0} { if($0 ~ marker){ found=1; while((getline line < blk) > 0) print line; skip=1; next } if(skip){ if($0 ~ /^$/ || $0 ~ /^#-+/){ skip=0; print $0; next } else next } print $0 } END{ if(!found){ while((getline line < blk) > 0) print line } }' ${e} > ${c}; `,o+=`mv ${c} ${e}; rm -f ${t}; `}}else if(r&&Object.keys(r).length>0)for(let t in r){let s=a?r[t].active:r[t].inactive;if("frq_on"===i&&a&&(t.includes("policy0")||t.includes("policy4"))){let s=t.includes("policy0")?"lit":"big";o+=`val=$(grep -F "# ${s}=" ${e} | awk '{print $2}' | sed 's/Mhz//'); `,o+=`val=$((val*1000)); echo $val > ${t}; `,o+=c(t,`$((${s}*1000))`)+" ";continue}o+=`echo '${s}' > ${t}; `,o+=c(t,s)}s(()=>t(o)),"thermal_opt"===i&&t(l.checked?"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0 && chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus && chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus && echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus && echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus && echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres && echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres && echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres && echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms && echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus && echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus && echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres && echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres && echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms && echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres && chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus && pm disable com.google.android.gms/.chimera.GmsIntentOperationService":"system_table_unset activity_manager_constants && pm enable com.google.android.gms/.chimera.GmsIntentOperationService")})})(i)),function(){let c=document.getElementById("popup-menu");if(!c)return;let i=c.querySelector(".popup-content"),r=document.getElementById("popup-options"),a=!1,n=!1,o=!0;function l(){c.classList.remove("show"),n=!1,o=!0,document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active"))}function _(i,a,l){r.innerHTML="",i.forEach((_,p)=>{let m=document.createElement("li");m.className="oui-bubble-item";let u="";if(1===i.length?u="rounded-all":0===p?u="rounded-top":p===i.length-1&&(u="rounded-bottom"),m.innerHTML=`<div class="popup-inner"><span class="popup-text">${_}</span></div><span class="popup-effect ${u}"></span>`,_===a){m.classList.add("selected");let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("class","popup-icon-selected checkmark"),e.innerHTML='<path style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:3" d="m5 12 5 5 9-9"/>',m.querySelector(".popup-inner").appendChild(e)}let d=m.querySelector(".popup-inner"),v=m.querySelector(".popup-effect"),h=!1,g=!1,y=()=>{if(v.classList.contains("animate-in")){v.classList.remove("animate-in"),v.classList.add("animate-out");let e=()=>{v.classList.remove("animate-out"),v.removeEventListener("animationend",e)};v.addEventListener("animationend",e)}d.classList.remove("pressed-effect")};m.addEventListener("pointerdown",e=>{if(!o)return void e.stopPropagation();h=!0,g=!1,d.classList.add("pressed-effect"),v.classList.add("animate-in"),setTimeout(()=>{g||y()},400)}),m.addEventListener("pointermove",e=>{if(!h)return;let t=m.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom||g||(g=!0,h=!1,y(),e.preventDefault(),e.stopPropagation())}),m.addEventListener("pointerleave",()=>{h&&!g&&(g=!0,h=!1,y())}),m.addEventListener("pointerup",()=>{h=!1,y()}),m.addEventListener("pointercancel",()=>{h=!1,g=!0,y()}),m.addEventListener("click",i=>{if(!o)return;i.stopPropagation(),c.classList.remove("show"),n=!1,o=!0,document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active")),l.dataset.selected=_;let r=l.querySelector(".popup-value");r||((r=document.createElement("span")).className="popup-value",l.appendChild(r)),r.textContent=_,localStorage.setItem(l.id,_);let a="frq_little"===l.id?"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq",p=1e3*_.replace("Mhz",""),m="frq_little"===l.id?"# lit=":"# big=",u=`echo '${p}' > ${a}; sed -i "s|echo ['\\"][^'\\"]*['\\"] > ${a}|echo '${p}' > ${a}|g" ${e}; sed -i "s|${m}.*|${m}${_}|" ${e}`;s(()=>t(u))}),r.appendChild(m)});let _=l.querySelector(".popup-value");_&&(_.textContent=a)}function p(e){let t=e.getBoundingClientRect(),s=c.offsetHeight,i=c.offsetWidth,r=window.innerWidth,a=JSON.parse(e.dataset.options).length,n=t.top+window.scrollY+t.height/2-s/2-40*(a>10)-177,o=t.right+8;o+i>r&&(o=r-i-26),c.style.top=`${n}px`,c.style.left=`${o}px`}document.addEventListener("pointerdown",e=>{a=!c.contains(e.target)},!0),document.addEventListener("pointerup",e=>{n&&a&&!c.contains(e.target)&&(l(),e.preventDefault(),e.stopPropagation())},!0),["click","pointerdown","pointerup","touchstart","touchend"].forEach(e=>{document.addEventListener(e,e=>{n&&!c.contains(e.target)&&(e.preventDefault(),e.stopPropagation())},{capture:!0,passive:!1})}),["frq_little","frq_big"].forEach(e=>{let t=document.getElementById(e);if(!t)return;let s=localStorage.getItem(e)||({frq_little:"1690 Mhz",frq_big:"1794 Mhz"})[e];t.dataset.selected=s;let r=t.querySelector(".popup-value");r||((r=document.createElement("span")).className="popup-value",t.appendChild(r)),r.textContent=s,t.addEventListener("click",e=>{if(e.stopPropagation(),t.classList.contains("popup-label-active"))return void l();document.querySelectorAll(".popup-label-active").forEach(e=>e.classList.remove("popup-label-active")),t.classList.add("popup-label-active"),function(e=300){o=!1,setTimeout(()=>{o=!0},e)}(300);let s=JSON.parse(t.dataset.options),r=t.dataset.selected;c.classList.contains("show")?(p(t),i.classList.add("switching"),setTimeout(()=>{_(s,r,t),i.classList.remove("switching")},150)):(_(s,r,t),requestAnimationFrame(()=>{p(t),c.classList.add("show"),n=!0}))})})}();let r=[{id:"volt_big",path:"/sys/power/percent_margin/big_margin_percent",marker:"big_volt"},{id:"volt_little",path:"/sys/power/percent_margin/lit_margin_percent",marker:"lit_volt"},{id:"volt_gpu",path:"/sys/power/percent_margin/g3d_margin_percent",marker:"g3d_volt"},{id:"volt_mif",path:"/sys/power/percent_margin/mif_margin_percent",marker:"mif_volt"},{id:"volt_audio",path:"/sys/power/percent_margin/aud_margin_percent",marker:"aud_volt"},{id:"volt_camera",path:"/sys/power/percent_margin/cam_margin_percent",marker:"cam_volt"},{id:"volt_cp",path:"/sys/power/percent_margin/cp_margin_percent",marker:"cp_volt"},{id:"volt_display",path:"/sys/power/percent_margin/disp_margin_percent",marker:"disp_volt"},{id:"volt_fsys",path:"/sys/power/percent_margin/fsys0_margin_percent",marker:"fsys0_volt"},{id:"volt_int",path:"/sys/power/percent_margin/int_margin_percent",marker:"int_volt"},{id:"volt_intcamera",path:"/sys/power/percent_margin/intcam_margin_percent",marker:"intcam_volt"},{id:"volt_iva",path:"/sys/power/percent_margin/iva_margin_percent",marker:"iva_volt"},{id:"volt_score",path:"/sys/power/percent_margin/score_margin_percent",marker:"score_volt"}];function a(e){return Math.round(e)-10}function n(e){return Math.round(parseInt(e))+10}r.forEach(i=>{let r,o=document.getElementById(i.id);if(!o)return;let l="volt_cp"===i.id?0:-4,_=`voltage_${i.id}`,p=localStorage.getItem(_);o.value=n(p=null===p?l:parseInt(p)),s(()=>{try{let r="volt_cp"===i.id?0:-4;t(`grep -F "# ${i.marker}=" ${e} || echo "# ${i.marker}=${r}"`).then(e=>{let r=e.match(RegExp(`# ${i.marker}=(-?\\d+)`));if(r){let e=parseInt(r[1]);o.value=n(e),localStorage.setItem(_,e);let a=document.getElementById("volt_on");if(a&&a.checked){let r=`echo '${e}' > ${i.path}; `+c(i.path,e);s(()=>t(r))}}})}catch{}}),o.addEventListener("input",()=>{let n=a(Math.round(parseFloat(o.value)));localStorage.setItem(_,n),clearTimeout(r),r=setTimeout(()=>{let r=document.getElementById("volt_on"),a=r&&r.checked,o="";o+=`sed -i "s|# ${i.marker}=.*|# ${i.marker}=${n}|" ${e}; `,a?(o+=`echo '${n}' > ${i.path}; `,o+=c(i.path,n)):(o+=`echo '0' > ${i.path}; `,o+=c(i.path,"0")),s(()=>t(o))},150)})});let o=document.getElementById("volt_on");o&&o.addEventListener("change",()=>{let e=o.checked;r.forEach(i=>{let r=document.getElementById(i.id);if(!r)return;let n=a(Math.round(parseFloat(r.value))),o=e?n:0,l=`echo '${o}' > ${i.path}; `+c(i.path,o);s(()=>t(l))})});let l=!1,_=[],p=!1,m=async()=>{if(!p&&0!==_.length){for(p=!0;_.length>0;){let e=_.shift();try{await t(e),await new Promise(e=>setTimeout(e,15))}catch{}}p=!1}},u=e=>{_.push(e),setTimeout(m,0)};s(()=>{try{let s=async c=>{try{return(await t(`grep -m1 "^[#][[:space:]]*${c}=" ${e} | head -n1 | cut -d'=' -f2`)).trim()}catch{return null}},a=(e,t)=>{if(!e||!t)return!1;let c=Number(e.replace(/\s*Mhz\s*/i,"")),s=Number(t.replace(/\s*Mhz\s*/i,""));return c===s};setTimeout(()=>{i.forEach(e=>{let t,c=e.id,s=`toggle_state_${c}`,i=document.getElementById(c);if(!i)return;if(null===localStorage.getItem(s)){let c=void 0===e.defaultState||e.defaultState;t=c,localStorage.setItem(s,c?"1":"0")}else t="1"===localStorage.getItem(s);i.checked=t;let r=new Event("change",{bubbles:!0});i.dispatchEvent(r)})},0),setTimeout(async()=>{for(let t of["frq_little","frq_big"]){let i,r=document.getElementById(t);if(!r)continue;let n={frq_little:"1690 Mhz",frq_big:"1794 Mhz"},o="frq_little"===t?"lit":"big";null===localStorage.getItem(t)?(i=n[t],localStorage.setItem(t,i)):i=localStorage.getItem(t),r.dataset.selected=i;let l=r.querySelector(".popup-value");l||((l=document.createElement("span")).className="popup-value",r.appendChild(l)),l.textContent=i,setTimeout(async()=>{try{let r=await s(o);if(!a(i,r)){let s,r="frq_little"===t?"/sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq":"/sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq",a=document.getElementById("frq_on"),n=a&&a.checked,o={frq_little:1794e3,frq_big:2704e3};if(n){let e=Number(i.replace(/\s*Mhz\s*/i,""));s=1e3*e}else s=o[t];let l="frq_little"===t?"# lit=":"# big=",_=`sed -i "s|${l}.*|${l}${i}|" ${e}; echo '${s}' > ${r}; `+c(r,s);u(_)}}catch{}},"frq_little"===t?120:200)}},50),setTimeout(async()=>{for(let t=0;t<r.length;t++){let i=r[t];setTimeout(async()=>{try{let t,r=`voltage_${i.id}`,a=document.getElementById(i.id);if(!a)return;null===localStorage.getItem(r)?(t="volt_cp"===i.id?0:-4,localStorage.setItem(r,String(t))):t=Number(localStorage.getItem(r)),a.value=n(t);let o=await s(i.marker);if(null===o||Number(o)!==t){let s=document.getElementById("volt_on"),r=s&&s.checked?t:0,a=`
                if grep -m1 -q "^[#][[:space:]]*${i.marker}=" "${e}"; then
                  sed -i 's|^[#][[:space:]]*${i.marker}=.*|# ${i.marker}=${t}|' "${e}";
                else
                  printf "# ${i.marker}=%s\\n" "${t}" >> "${e}";
                fi
                echo '${r}' > ${i.path};
                ${c(i.path,r)}
              `.trim();u(a)}}catch{}},80*t)}setTimeout(()=>{l=!0},80*r.length+450)},250)}catch{setTimeout(()=>{l=!0},350)}}),window.isInitialLoadComplete=()=>l});
//# sourceMappingURL=webroot.5c536b71.js.map
