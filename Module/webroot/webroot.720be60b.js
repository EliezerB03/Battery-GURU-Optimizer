document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".oui-dialog-mask"),t=null,o=!1,n=0,l=e=>{let t=document.querySelector(".oui-dialog-description");t&&t.contains(e.target)||e.preventDefault()};function i(){o=!0,document.body.style.pointerEvents="none",document.body.style.userSelect="none",document.body.style.overflow="hidden",document.documentElement.style.pointerEvents="none",document.documentElement.style.userSelect="none",document.querySelectorAll(".oui-dialog-action-button, .close-dialog-btn, .reset-dialog-btn").forEach(e=>{e.style.pointerEvents="none"})}function r(){o=!1,document.body.style.pointerEvents="",document.body.style.userSelect="",document.body.style.overflow="",document.documentElement.style.pointerEvents="",document.documentElement.style.userSelect="",document.querySelectorAll(".oui-dialog-action-button, .close-dialog-btn, .reset-dialog-btn").forEach(e=>{e.style.pointerEvents=""})}let s=e=>{n=e.touches[0].clientY},c=e=>{if(!t)return;let o=t.querySelector(".oui-dialog-description");if(o&&o.contains(e.target))return;let l=t,i=l.scrollTop,r=l.scrollHeight,s=l.offsetHeight,c=e.touches[0].clientY,d=c>n,a=c<n;(0===i&&d||i+s>=r&&a)&&e.preventDefault(),n=c},d=()=>{if(!t)return;i(),t.classList.remove("show"),t.classList.add("hide"),e.classList.remove("show"),document.body.classList.remove("no-scroll"),document.removeEventListener("touchmove",l),t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c);let o=e=>{e.target===t&&t.classList.contains("hide")&&(t.removeEventListener("transitionend",o),setTimeout(()=>{t.classList.remove("hide"),t=null,r()},5))};t.addEventListener("transitionend",o)};document.querySelectorAll("[data-dialog-target]").forEach(n=>{n.addEventListener("click",d=>{if(o)return d.preventDefault(),d.stopPropagation(),!1;let a=n.getAttribute("data-dialog-target"),u=document.getElementById(a);u&&(o=>{i();let n=o.querySelector(".oui-dialog-description");n&&(n.scrollTop=0),o.classList.add("show"),e.classList.add("show"),t=o,document.body.classList.add("no-scroll"),document.addEventListener("touchmove",l,{passive:!1}),o.addEventListener("touchstart",s,{passive:!1}),o.addEventListener("touchmove",c,{passive:!1}),setTimeout(()=>{r()},275)})(u)})}),document.querySelectorAll(".close-dialog-btn").forEach(e=>{e.addEventListener("click",e=>{if(o)return e.preventDefault(),e.stopPropagation(),!1;d()})}),e.addEventListener("click",e=>{let t=document.getElementById("closing_app_dialog");return o||t&&t.classList.contains("show")?(e.preventDefault(),e.stopPropagation(),!1):void d()});let a=new WeakMap,u=(e,t)=>{let o=a.get(e)||(e=>{if(!e)return null;if(a.has(e))return a.get(e);let t=e.querySelector(".oui-dialog-description");if(!t)return null;let o=e.querySelector(".dialog-top-glow"),n=e.querySelector(".dialog-bottom-glow");o||((o=document.createElement("div")).className="dialog-top-glow",e.appendChild(o)),n||((n=document.createElement("div")).className="dialog-bottom-glow",e.appendChild(n));let l=()=>{let l=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=l.top-i.top,s=i.bottom-l.bottom;o.style.top=`${r}px`,n.style.bottom=`${s}px`};if(l(),"ResizeObserver"in window){let o=new ResizeObserver(l);o.observe(t),o.observe(e)}o.style.opacity=o.style.opacity||"0",n.style.opacity=n.style.opacity||"0";let i={desc:t,topGlow:o,bottomGlow:n};return a.set(e,i),i})(e);o&&(o.topGlow.style.opacity=t?"1":"0",o.bottomGlow.style.opacity=t?"1":"0")},m=()=>{requestAnimationFrame(()=>{let e=document.querySelector(".oui-dialog.show");if(!e)return u(e,!1);let t=(e=>{if(!e)return null;let t=e.querySelector(".oui-dialog-description");return t||e})(e);u(e,!!(t&&(e=>e&&e.scrollHeight>e.clientHeight+1)(t)))})};m();let v=new MutationObserver(m);if(document.querySelectorAll(".oui-dialog").forEach(e=>v.observe(e,{attributes:!0,attributeFilter:["class"]})),"ResizeObserver"in window){let e=new ResizeObserver(m);e.observe(document.documentElement),document.querySelectorAll(".oui-dialog, .oui-dialog-description").forEach(t=>e.observe(t))}let g=new MutationObserver(m);document.querySelectorAll(".oui-dialog .oui-dialog-description").forEach(e=>g.observe(e,{childList:!0,subtree:!0})),window.addEventListener("resize",m)});
//# sourceMappingURL=webroot.720be60b.js.map
