{"mappings":"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","sources":["<anon>","scripts/functions/reset_settings.js"],"sourcesContent":["// Reset Settings Behavior\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    const serviceFile = \"/data/adb/modules/battery-guru-optimizer-9810/service.sh\";\n    const openSpecificDialog = (dialogId)=>{\n        const dialog = document.getElementById(dialogId);\n        const mask = document.querySelector('.oui-dialog-mask');\n        if (dialog && mask) {\n            dialog.classList.add('show');\n            mask.classList.add('show');\n            document.body.classList.add('no-scroll');\n        }\n    };\n    const closeActiveDialog = ()=>{\n        const activeDialog = document.querySelector('.oui-dialog.show');\n        const mask = document.querySelector('.oui-dialog-mask');\n        if (activeDialog && mask) {\n            activeDialog.classList.remove('show');\n            activeDialog.classList.add('hide');\n            mask.classList.remove('show');\n            document.body.classList.remove('no-scroll');\n            setTimeout(()=>{\n                activeDialog.classList.remove('hide');\n            }, 5);\n            return true;\n        }\n        return false;\n    };\n    const closeActiveDialogKeepingMask = ()=>{\n        const activeDialog = document.querySelector('.oui-dialog.show');\n        const mask = document.querySelector('.oui-dialog-mask');\n        if (activeDialog) {\n            activeDialog.classList.remove('show');\n            activeDialog.classList.add('hide');\n            if (mask) mask.classList.add('show');\n            document.body.classList.add('no-scroll');\n            setTimeout(()=>{\n                activeDialog.classList.remove('hide');\n            }, 5);\n            return true;\n        }\n        return false;\n    };\n    const applyDefaultSettings = ()=>{\n        const defaultCommands = [\n            // KERNEL DEBUGGING\n            \"echo '0' > /proc/sys/kernel/panic\",\n            \"echo 'N' > /sys/kernel/debug/debug_enabled\",\n            \"echo 'N' > /sys/kernel/debug/seclog/seclog_enabled\",\n            // STORAGE OPTIMIZATIONS\n            \"echo '1' > /sys/block/sda/queue/rotational\",\n            \"echo '1' > /sys/block/sda/queue/add_random\",\n            \"echo '2' > /sys/block/sda/queue/rq_affinity\",\n            // THERMAL OPTIMIZATIONS\n            \"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0\",\n            \"chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus\",\n            \"echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres\",\n            \"echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms\",\n            \"echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres\",\n            \"echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres\",\n            \"chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus\",\n            \"pm disable com.google.android.gms/.chimera.GmsIntentOperationService\",\n            // SWAP OPTIMIZATIONS\n            \"echo '35' > /proc/sys/vm/dirty_ratio\",\n            \"echo '10' > /proc/sys/vm/dirty_background_ratio\",\n            \"echo '50000' > /proc/sys/vm/dirty_expire_centisecs\",\n            \"echo '20000' > /proc/sys/vm/dirty_writeback_centisecs\",\n            \"echo '5' > /proc/sys/vm/laptop_mode\",\n            \"echo '0' > /proc/sys/vm/swappiness\",\n            // CPU FREQ SETTINGS\n            \"echo '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\",\n            \"echo '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\",\n            // CPU HOTPLUG OPTIMIZATIONS\n            \"echo '0' > /sys/power/cpuhotplug/governor/user_mode\",\n            \"echo '0' > /sys/power/cpuhotplug/governor/enabled\",\n            // ENABLE POWER EFFICIENT\n            \"echo 'Y' > /sys/module/workqueue/parameters/power_efficient\",\n            // VOLTAGE SETTINGS\n            \"echo '-4' > /sys/power/percent_margin/big_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/lit_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/g3d_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/mif_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/aud_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/cam_margin_percent\",\n            \"echo '0' > /sys/power/percent_margin/cp_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/disp_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/fsys0_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/int_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/intcam_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/iva_margin_percent\",\n            \"echo '-4' > /sys/power/percent_margin/score_margin_percent\"\n        ];\n        const serviceContent = `# BATTERY GURU OPTIMIZER (ALL SETTINGS)\n# Developed by @EliezerB03\n\n#!/sbin/sh\n\n# ============== GENERAL OPTIMIZATIONS  ============== #\n\n#---------------< KERNEL DEBUGGING >---------------#\n# kerneldebug_on=0\necho '0' > /proc/sys/kernel/panic\necho 'N' > /sys/kernel/debug/debug_enabled\necho 'N' > /sys/kernel/debug/seclog/seclog_enabled\n\n#---------------< STORAGE OPTIMIZATIONS >---------------#\n# storageset_on=1\necho '1' > /sys/block/sda/queue/rotational\necho '1' > /sys/block/sda/queue/add_random\necho '2' > /sys/block/sda/queue/rq_affinity\n\n#---------------< THERMAL OPTIMIZATIONS >---------------#\n# thermalset_on=1\nsystem_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0\nchmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus\necho 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres\necho 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms\necho 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres\necho 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres\nchmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus\npm disable com.google.android.gms/.chimera.GmsIntentOperationService\n\n#---------------< SWAP OPTIMIZATIONS >---------------#\n# swapset_on=1\necho '25' > /proc/sys/vm/dirty_ratio\necho '10' > /proc/sys/vm/dirty_background_ratio\necho '50000' > /proc/sys/vm/dirty_expire_centisecs\necho '20000' > /proc/sys/vm/dirty_writeback_centisecs\necho '5' > /proc/sys/vm/laptop_mode\necho '0' > /proc/sys/vm/swappiness\n\n# ============== CPU SETTINGS ============== #\n\n#---------------< CPU FREQ SETTINGS >---------------#\n# frqset_on=1\n# lit=1690 Mhz\necho '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\n# big=1794 Mhz\necho '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\n\n#---------------< CPU HOTPLUG OPTIMIZATIONS >---------------#\n# hotplugset_on=1\necho '0' > /sys/power/cpuhotplug/governor/user_mode\necho '0' > /sys/power/cpuhotplug/governor/enabled\n\n#---------------< ENABLE POWER EFFICIENT >---------------#\n# powereffiset_on=1\necho 'Y' > /sys/module/workqueue/parameters/power_efficient\n\n#---------------< VOLTAGE SETTINGS >---------------#\n# voltset_on=1\n# big_volt=-4\necho '-4' > /sys/power/percent_margin/big_margin_percent\n# lit_volt=-4\necho '-4' > /sys/power/percent_margin/lit_margin_percent\n# g3d_volt=-4\necho '-4' > /sys/power/percent_margin/g3d_margin_percent\n# mif_volt=-4\necho '-4' > /sys/power/percent_margin/mif_margin_percent\n# aud_volt=-4\necho '-4' > /sys/power/percent_margin/aud_margin_percent\n# cam_volt=-4\necho '-4' > /sys/power/percent_margin/cam_margin_percent\n# cp_volt=0\necho '0' > /sys/power/percent_margin/cp_margin_percent\n# disp_volt=-4\necho '-4' > /sys/power/percent_margin/disp_margin_percent\n# fsys0_volt=-4\necho '-4' > /sys/power/percent_margin/fsys0_margin_percent\n# int_volt=-4\necho '-4' > /sys/power/percent_margin/int_margin_percent\n# intcam_volt=-4\necho '-4' > /sys/power/percent_margin/intcam_margin_percent\n# iva_volt=-4\necho '-4' > /sys/power/percent_margin/iva_margin_percent\n# score_volt=-4\necho '-4' > /sys/power/percent_margin/score_margin_percent\n\n# ======================================`;\n        ksu.exec(\"rm -rf /data/data/me.weishu.kernelsu/app_webview\");\n        ksu.exec(\"rm -rf /data/data/com.rifsxd.ksunext/app_webview\");\n        ksu.exec(\"rm -rf /data/data/me.bmax.apatch/app_webview\");\n        setTimeout(()=>{\n            defaultCommands.forEach((cmd)=>{\n                ksu.exec(cmd);\n            });\n            ksu.exec(`cat > ${serviceFile} << 'EOF'\n${serviceContent}\nEOF`);\n        }, 2000);\n    };\n    const resetButton = document.querySelector('.close-dialog-text-reset');\n    if (resetButton) {\n        const resetButtonParent = resetButton.closest('.reset-dialog-btn');\n        if (resetButtonParent) {\n            resetButtonParent.removeEventListener('click', closeActiveDialog);\n            resetButtonParent.addEventListener('click', (e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                const blockingLayer = document.createElement('div');\n                blockingLayer.id = 'temp-blocking-layer';\n                blockingLayer.style.cssText = `\n          position: fixed; top: 0; left: 0;\n          width: 100%; height: 100%;\n          z-index: 3000; pointer-events: all;\n        `;\n                document.body.appendChild(blockingLayer);\n                document.body.classList.add('no-scroll');\n                const dialogClosed = closeActiveDialogKeepingMask();\n                if (dialogClosed) setTimeout(()=>{\n                    const tempLayer = document.getElementById('temp-blocking-layer');\n                    if (tempLayer) tempLayer.remove();\n                    openSpecificDialog('closing_app_dialog');\n                    setTimeout(()=>{\n                        applyDefaultSettings();\n                        setTimeout(()=>{\n                            ksu.exec(\"am force-stop me.weishu.kernelsu\");\n                            ksu.exec(\"am force-stop com.rifsxd.ksunext\");\n                            ksu.exec(\"am force-stop me.bmax.apatch\");\n                        }, 2000);\n                    }, 1000);\n                }, 700);\n            });\n        }\n    }\n});\n\n//# sourceMappingURL=webroot.58a75492.js.map\n","// Reset Settings Behavior\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const serviceFile = \"/data/adb/modules/battery-guru-optimizer-9810/service.sh\";\r\n  const openSpecificDialog = (dialogId) => {\r\n    const dialog = document.getElementById(dialogId);\r\n    const mask = document.querySelector('.oui-dialog-mask');\r\n    if (dialog && mask) {\r\n      dialog.classList.add('show');\r\n      mask.classList.add('show');\r\n      document.body.classList.add('no-scroll');\r\n    }\r\n  };\r\n  const closeActiveDialog = () => {\r\n    const activeDialog = document.querySelector('.oui-dialog.show');\r\n    const mask = document.querySelector('.oui-dialog-mask');\r\n    if (activeDialog && mask) {\r\n      activeDialog.classList.remove('show');\r\n      activeDialog.classList.add('hide');\r\n      mask.classList.remove('show');\r\n      document.body.classList.remove('no-scroll');\r\n      setTimeout(() => {\r\n        activeDialog.classList.remove('hide');\r\n      }, 5);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const closeActiveDialogKeepingMask = () => {\r\n    const activeDialog = document.querySelector('.oui-dialog.show');\r\n    const mask = document.querySelector('.oui-dialog-mask');\r\n    if (activeDialog) {\r\n      activeDialog.classList.remove('show');\r\n      activeDialog.classList.add('hide');\r\n      if (mask) {\r\n        mask.classList.add('show');\r\n      }\r\n      document.body.classList.add('no-scroll');\r\n      setTimeout(() => {\r\n        activeDialog.classList.remove('hide');\r\n      }, 5);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const applyDefaultSettings = () => {\r\n    const defaultCommands = [\r\n      // KERNEL DEBUGGING\r\n      \"echo '0' > /proc/sys/kernel/panic\",\r\n      \"echo 'N' > /sys/kernel/debug/debug_enabled\", \r\n      \"echo 'N' > /sys/kernel/debug/seclog/seclog_enabled\",\r\n      \r\n      // STORAGE OPTIMIZATIONS\r\n      \"echo '1' > /sys/block/sda/queue/rotational\",\r\n      \"echo '1' > /sys/block/sda/queue/add_random\",\r\n      \"echo '2' > /sys/block/sda/queue/rq_affinity\",\r\n      \r\n      // THERMAL OPTIMIZATIONS\r\n      \"system_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0\",\r\n      \"chmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus\",\r\n      \"echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres\",\r\n      \"echo 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms\",\r\n      \"echo 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres\",\r\n      \"echo 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres\",\r\n      \"chmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus\",\r\n      \"pm disable com.google.android.gms/.chimera.GmsIntentOperationService\",\r\n      \r\n      // SWAP OPTIMIZATIONS\r\n      \"echo '35' > /proc/sys/vm/dirty_ratio\",\r\n      \"echo '10' > /proc/sys/vm/dirty_background_ratio\",\r\n      \"echo '50000' > /proc/sys/vm/dirty_expire_centisecs\",\r\n      \"echo '20000' > /proc/sys/vm/dirty_writeback_centisecs\",\r\n      \"echo '5' > /proc/sys/vm/laptop_mode\",\r\n      \"echo '0' > /proc/sys/vm/swappiness\",\r\n      \r\n      // CPU FREQ SETTINGS\r\n      \"echo '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\",\r\n      \"echo '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\",\r\n      \r\n      // CPU HOTPLUG OPTIMIZATIONS\r\n      \"echo '0' > /sys/power/cpuhotplug/governor/user_mode\",\r\n      \"echo '0' > /sys/power/cpuhotplug/governor/enabled\",\r\n      \r\n      // ENABLE POWER EFFICIENT\r\n      \"echo 'Y' > /sys/module/workqueue/parameters/power_efficient\",\r\n      \r\n      // VOLTAGE SETTINGS\r\n      \"echo '-4' > /sys/power/percent_margin/big_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/lit_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/g3d_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/mif_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/aud_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/cam_margin_percent\",\r\n      \"echo '0' > /sys/power/percent_margin/cp_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/disp_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/fsys0_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/int_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/intcam_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/iva_margin_percent\",\r\n      \"echo '-4' > /sys/power/percent_margin/score_margin_percent\"\r\n    ];\r\nconst serviceContent = `# BATTERY GURU OPTIMIZER (ALL SETTINGS)\r\n# Developed by @EliezerB03\r\n\r\n#!/sbin/sh\r\n\r\n# ============== GENERAL OPTIMIZATIONS  ============== #\r\n\r\n#---------------< KERNEL DEBUGGING >---------------#\r\n# kerneldebug_on=0\r\necho '0' > /proc/sys/kernel/panic\r\necho 'N' > /sys/kernel/debug/debug_enabled\r\necho 'N' > /sys/kernel/debug/seclog/seclog_enabled\r\n\r\n#---------------< STORAGE OPTIMIZATIONS >---------------#\r\n# storageset_on=1\r\necho '1' > /sys/block/sda/queue/rotational\r\necho '1' > /sys/block/sda/queue/add_random\r\necho '2' > /sys/block/sda/queue/rq_affinity\r\n\r\n#---------------< THERMAL OPTIMIZATIONS >---------------#\r\n# thermalset_on=1\r\nsystem_table_set activity_manager_constants max_cached_processes=0,background_settle_time=0,fgservice_min_shown_time=0,fgservice_min_report_time=0,fgservice_screen_on_before_time=0,fgservice_screen_on_after_time=0,content_provider_retain_time=0,gc_timeout=0,gc_min_interval=0,full_pss_min_interval=0,full_pss_lowered_interval=0,power_check_interval=0,power_check_max_cpu_1=0,power_check_max_cpu_2=0,power_check_max_cpu_3=0,power_check_max_cpu_4=0,service_usage_interaction_time=0,usage_stats_interaction_interval=0,service_restart_duration=0,service_reset_run_duration=0,service_restart_duration_factor=0,service_min_restart_time_between=0,service_max_inactivity=0,service_bg_start_timeout=0,CUR_MAX_CACHED_PROCESSES=0,CUR_MAX_EMPTY_PROCESSES=0,CUR_TRIM_EMPTY_PROCESSES=0,CUR_TRIM_CACHED_PROCESSES=0\r\nchmod 666 /sys/devices/system/cpu/cpu[0-7]/max_cpus; chmod 666 /sys/devices/system/cpu/cpu[0-7]/min_cpus\r\necho 4 > /sys/devices/system/cpu/cpu4/core_ctl/max_cpus; echo 0 > /sys/devices/system/cpu/cpu4/core_ctl/min_cpus; echo 60 > /sys/devices/system/cpu/cpu4/core_ctl/busy_down_thres\r\necho 4 > /sys/devices/system/cpu/cpu4/core_ctl/task_thres; echo 80 > /sys/devices/system/cpu/cpu4/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu4/core_ctl/offline_delay_ms\r\necho 2 > /sys/devices/system/cpu/cpu0/core_ctl/min_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/max_cpus; echo 4 > /sys/devices/system/cpu/cpu0/core_ctl/task_thres\r\necho 80 > /sys/devices/system/cpu/cpu0/core_ctl/busy_up_thres; echo 100 > /sys/devices/system/cpu/cpu0/core_ctl/offline_delay_ms; echo 60 > /sys/devices/system/cpu/cpu0/core_ctl/busy_down_thres\r\nchmod 444 /sys/devices/system/cpu/cpu[0-7]/max_cpus\r\npm disable com.google.android.gms/.chimera.GmsIntentOperationService\r\n\r\n#---------------< SWAP OPTIMIZATIONS >---------------#\r\n# swapset_on=1\r\necho '25' > /proc/sys/vm/dirty_ratio\r\necho '10' > /proc/sys/vm/dirty_background_ratio\r\necho '50000' > /proc/sys/vm/dirty_expire_centisecs\r\necho '20000' > /proc/sys/vm/dirty_writeback_centisecs\r\necho '5' > /proc/sys/vm/laptop_mode\r\necho '0' > /proc/sys/vm/swappiness\r\n\r\n# ============== CPU SETTINGS ============== #\r\n\r\n#---------------< CPU FREQ SETTINGS >---------------#\r\n# frqset_on=1\r\n# lit=1690 Mhz\r\necho '1690000' > /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq\r\n# big=1794 Mhz\r\necho '1794000' > /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq\r\n\r\n#---------------< CPU HOTPLUG OPTIMIZATIONS >---------------#\r\n# hotplugset_on=1\r\necho '0' > /sys/power/cpuhotplug/governor/user_mode\r\necho '0' > /sys/power/cpuhotplug/governor/enabled\r\n\r\n#---------------< ENABLE POWER EFFICIENT >---------------#\r\n# powereffiset_on=1\r\necho 'Y' > /sys/module/workqueue/parameters/power_efficient\r\n\r\n#---------------< VOLTAGE SETTINGS >---------------#\r\n# voltset_on=1\r\n# big_volt=-4\r\necho '-4' > /sys/power/percent_margin/big_margin_percent\r\n# lit_volt=-4\r\necho '-4' > /sys/power/percent_margin/lit_margin_percent\r\n# g3d_volt=-4\r\necho '-4' > /sys/power/percent_margin/g3d_margin_percent\r\n# mif_volt=-4\r\necho '-4' > /sys/power/percent_margin/mif_margin_percent\r\n# aud_volt=-4\r\necho '-4' > /sys/power/percent_margin/aud_margin_percent\r\n# cam_volt=-4\r\necho '-4' > /sys/power/percent_margin/cam_margin_percent\r\n# cp_volt=0\r\necho '0' > /sys/power/percent_margin/cp_margin_percent\r\n# disp_volt=-4\r\necho '-4' > /sys/power/percent_margin/disp_margin_percent\r\n# fsys0_volt=-4\r\necho '-4' > /sys/power/percent_margin/fsys0_margin_percent\r\n# int_volt=-4\r\necho '-4' > /sys/power/percent_margin/int_margin_percent\r\n# intcam_volt=-4\r\necho '-4' > /sys/power/percent_margin/intcam_margin_percent\r\n# iva_volt=-4\r\necho '-4' > /sys/power/percent_margin/iva_margin_percent\r\n# score_volt=-4\r\necho '-4' > /sys/power/percent_margin/score_margin_percent\r\n\r\n# ======================================`;\r\n    ksu.exec(\"rm -rf /data/data/me.weishu.kernelsu/app_webview\");\r\n    ksu.exec(\"rm -rf /data/data/com.rifsxd.ksunext/app_webview\");\r\n    ksu.exec(\"rm -rf /data/data/me.bmax.apatch/app_webview\");\r\n    setTimeout(() => {\r\n      defaultCommands.forEach(cmd => {\r\n        ksu.exec(cmd);\r\n      });\r\n      ksu.exec(`cat > ${serviceFile} << 'EOF'\r\n${serviceContent}\r\nEOF`);\r\n    }, 2000);\r\n  };\r\n  const resetButton = document.querySelector('.close-dialog-text-reset');\r\n  if (resetButton) {\r\n    const resetButtonParent = resetButton.closest('.reset-dialog-btn');\r\n    if (resetButtonParent) {\r\n      resetButtonParent.removeEventListener('click', closeActiveDialog);\r\n      resetButtonParent.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const blockingLayer = document.createElement('div');\r\n        blockingLayer.id = 'temp-blocking-layer';\r\n        blockingLayer.style.cssText = `\r\n          position: fixed; top: 0; left: 0;\r\n          width: 100%; height: 100%;\r\n          z-index: 3000; pointer-events: all;\r\n        `;\r\n        document.body.appendChild(blockingLayer);\r\n        document.body.classList.add('no-scroll');\r\n        const dialogClosed = closeActiveDialogKeepingMask();\r\n        if (dialogClosed) {\r\n          setTimeout(() => {\r\n            const tempLayer = document.getElementById('temp-blocking-layer');\r\n            if (tempLayer) {\r\n              tempLayer.remove();\r\n            }\r\n            openSpecificDialog('closing_app_dialog');\r\n            setTimeout(() => {\r\n              applyDefaultSettings();\r\n              setTimeout(() => {\r\n                ksu.exec(\"am force-stop me.weishu.kernelsu\");\r\n                ksu.exec(\"am force-stop com.rifsxd.ksunext\");\r\n                ksu.exec(\"am force-stop me.bmax.apatch\");\r\n              }, 2000);\r\n            }, 1000);\r\n          }, 700);\r\n        }\r\n      });\r\n    }\r\n  }\r\n});\r\n"],"names":["document","addEventListener","resetButton","querySelector","resetButtonParent","closest","removeEventListener","activeDialog","mask","classList","remove","add","body","setTimeout","e","preventDefault","stopPropagation","blockingLayer","createElement","id","style","cssText","appendChild","dialogClosed","closeActiveDialogKeepingMask","tempLayer","getElementById","openSpecificDialog","dialogId","dialog","applyDefaultSettings","defaultCommands","serviceContent","ksu","exec","forEach","cmd"],"version":3,"file":"webroot.58a75492.js.map"}